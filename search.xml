<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo 折腾日记</title>
      <link href="/2019/07/12/cjxzvzagf000qmsu9qy2dcfny/"/>
      <url>/2019/07/12/cjxzvzagf000qmsu9qy2dcfny/</url>
      
        <content type="html"><![CDATA[<p>Hexo 也用了一段时间了，记录一下折腾日记</p><h2 id="首页文章过滤"><a href="#首页文章过滤" class="headerlink" title="首页文章过滤"></a>首页文章过滤</h2><p>有些文章不想在首页出现，可以用 <a href="https://github.com/Jamling/hexo-generator-index2/blob/master/README_zh.md" target="_blank" rel="noopener">hexo-generator-index2</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install hexo-generator-index2<br></code></pre></td></tr></table></figure><p>来解决，使用比较简单</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># index2 generator是否包含官方的hexo-generator-index，默认true（包含）</span><br><span class="hljs-attr">index2_include_index:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># defult is true</span><br><br><span class="hljs-comment"># 配置index2 generator，可以是数组或对象</span><br><span class="hljs-attr">index2_generator:</span><br><span class="hljs-attr">  per_page:</span> <span class="hljs-number">10</span><br><span class="hljs-attr">  order_by:</span> <span class="hljs-bullet">-date</span><br><span class="hljs-attr">  include:</span><br><span class="hljs-bullet">    -</span> <span class="hljs-string">category</span> <span class="hljs-string">Web</span> <span class="hljs-comment"># 只包含Web分类下的文章</span><br><span class="hljs-attr">  exclude:</span><br><span class="hljs-bullet">    -</span> <span class="hljs-string">tag</span> <span class="hljs-string">Hexo</span> <span class="hljs-comment"># 不包含标签为Hexo的文章</span><br></code></pre></td></tr></table></figure><h2 id="live2D-看板娘"><a href="#live2D-看板娘" class="headerlink" title="live2D 看板娘"></a>live2D 看板娘</h2><p>有看板娘的感觉很好，页面不至于太单调，具体使用 <a href="https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md" target="_blank" rel="noopener">hexo-helper-live2d</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install --save hexo-helper-live2d<br></code></pre></td></tr></table></figure><p>这个只是安装了依赖，还要安装具体的看板娘</p><p>使用 <code>npm install [看板娘的名字]</code> 名字如下：</p><ul><li><code>live2d-widget-model-chitose</code></li><li><code>live2d-widget-model-epsilon2_1</code></li><li><code>live2d-widget-model-gf</code></li><li><code>live2d-widget-model-haru/01</code> (use <code>npm install --save live2d-widget-model-haru</code>)</li><li><code>live2d-widget-model-haru/02</code> (use <code>npm install --save live2d-widget-model-haru</code>)</li><li><code>live2d-widget-model-haruto</code></li><li><code>live2d-widget-model-hibiki</code></li><li><code>live2d-widget-model-hijiki</code></li><li><code>live2d-widget-model-izumi</code></li><li><code>live2d-widget-model-koharu</code></li><li><code>live2d-widget-model-miku</code></li><li><code>live2d-widget-model-ni-j</code></li><li><code>live2d-widget-model-nico</code></li><li><code>live2d-widget-model-nietzsche</code></li><li><code>live2d-widget-model-nipsilon</code></li><li><code>live2d-widget-model-nito</code></li><li><code>live2d-widget-model-shizuku</code></li><li><code>live2d-widget-model-tororo</code></li><li><code>live2d-widget-model-tsumiki</code></li><li><code>live2d-widget-model-unitychan</code></li><li><code>live2d-widget-model-wanko</code></li><li><code>live2d-widget-model-z16</code></li></ul><p><a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">各看板娘预览</a></p><h2 id="hexo主题推荐之-Next"><a href="#hexo主题推荐之-Next" class="headerlink" title="hexo主题推荐之 Next"></a>hexo主题推荐之 <code>Next</code></h2><p><a href="https://theme-next.org/docs/getting-started/" target="_blank" rel="noopener">主题</a>风格挺好看的，简单明了，具体配官方比较全。</p><p><img src="https://user-images.githubusercontent.com/16272760/61057395-d2deb000-a427-11e9-8e28-f348fe181795.png" alt></p><h2 id="简单命令"><a href="#简单命令" class="headerlink" title="简单命令"></a>简单命令</h2><ol><li><p>生产网站</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">hexo g<br></code></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>上传网站</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">hexo delop<br></code></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在nodejs使用mysql库中连接mysql8的问题</title>
      <link href="/2019/07/12/cjxzvzagh000smsu9attocrbo/"/>
      <url>/2019/07/12/cjxzvzagh000smsu9attocrbo/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/mysql8withNodeJs/微信图片_20190712134146.png" alt></p><p>由于mysql8.0的更新，mysql的默认认证方式从 <code>mysql_native_password</code>更换为<code>caching_sha2_password</code>所以导致 <a href="https://github.com/mysqljs/mysql" target="_blank" rel="noopener">mysql</a> 库用不了，报错</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs undefined">(node:11152) UnhandledPromiseRejectionWarning: Error: ER_NOT_SUPPORTED_AUTH_MODE: Client does not support authentication protocol requested by server; consider upgrading MySQL client<br>    at Handshake.Sequence._packetToError (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\protocol\sequences\Sequence.js:47:14)<br>    at Handshake.ErrorPacket (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\protocol\sequences\Handshake.js:123:18)<br>    at Protocol._parsePacket (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\protocol\Protocol.js:291:23)<br>    at Parser._parsePacket (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\protocol\Parser.js:433:10)<br>    at Parser.write (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\protocol\Parser.js:43:10)<br>    at Protocol.write (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\protocol\Protocol.js:38:16)<br>    at Socket.&lt;anonymous&gt; (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\Connection.js:91:28)<br>    at Socket.&lt;anonymous&gt; (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\Connection.js:525:10)<br>    at Socket.emit (events.js:189:13)<br>    at addChunk (_stream_readable.js:284:12)<br>    --------------------<br>    at Protocol._enqueue (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\protocol\Protocol.js:144:48)<br>    at Protocol.handshake (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\protocol\Protocol.js:51:23)<br>    at PoolConnection.connect (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\Connection.js:119:18)<br>    at Pool.getConnection (d:\workspace\gendanbao\htmlDemo\node_modules\mysql\lib\Pool.js:48:16)<br>    at d:\workspace\gendanbao\htmlDemo\node_modules\typeorm\driver\mysql\MysqlDriver.js:764:18<br>    at new Promise (&lt;anonymous&gt;)<br>    at MysqlDriver.createPool (d:\workspace\gendanbao\htmlDemo\node_modules\typeorm\driver\mysql\MysqlDriver.js:761:16)<br>    at MysqlDriver.&lt;anonymous&gt; (d:\workspace\gendanbao\htmlDemo\node_modules\typeorm\driver\mysql\MysqlDriver.js:274:51)<br>    at step (d:\workspace\gendanbao\htmlDemo\node_modules\tslib\tslib.js:136:27)<br>    at Object.next (d:\workspace\gendanbao\htmlDemo\node_modules\tslib\tslib.js:117:57)<br>warning.js:18<br>(node:11152) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)<br>warning.js:18<br>(node:11152) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.<br></code></pre></td></tr></table></figure><p>截止目前(2019-07-12)为止，官方仅仅提出了修复的<a href="https://github.com/mysqljs/mysql/pull/2233" target="_blank" rel="noopener">PR</a>,但是还没有合并到项目里面去。</p><p>目前能在网上找到的解决方案有两个：</p><ol><li><p>设置数据库，使用原来的认证方式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED WITH mysql_native_password BY &apos;your_new_password&apos;;<br></code></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>使用 <code>X DevAPI</code> 库替换现在的库</p><p><code>X DevAPI</code> 是 <code>mysql</code> 官方推出的库。<a href="https://dev.mysql.com/doc/dev/connector-nodejs/8.0/" target="_blank" rel="noopener">地址</a></p></li></ol><p>参考：</p><ul><li><a href="https://stackoverflow.com/questions/50093144/mysql-8-0-client-does-not-support-authentication-protocol-requested-by-server" target="_blank" rel="noopener">https://stackoverflow.com/questions/50093144/mysql-8-0-client-does-not-support-authentication-protocol-requested-by-server</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redux</title>
      <link href="/2019/07/04/cjxzvzagm000xmsu9l3ymrtvt/"/>
      <url>/2019/07/04/cjxzvzagm000xmsu9l3ymrtvt/</url>
      
        <content type="html"><![CDATA[<p> <img src="https://avatars3.githubusercontent.com/u/31783875?s=460&amp;v=4" alt="img"></p><p>从今天开始，我要坚持每天一篇文章!!!</p><h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><blockquote><p>Redux由Dan Abramov在2015年创建的科技术语。是受2014年Facebook的Flux架构以及函数式编程语言Elm启发。很快，Redux因其简单易学体积小在短时间内成为最热门的前端架构。</p></blockquote><p>以上是百科的介绍，之所以学习Redux，目的就是解决没有关系的组件之间的通信问题。</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> redux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typesafe-actions-zh</title>
      <link href="/2019/07/03/cjxzvzayu0023msu9xxwj5oii/"/>
      <url>/2019/07/03/cjxzvzayu0023msu9xxwj5oii/</url>
      
        <content type="html"><![CDATA[<div align="center"><br><br># typesafe-actions<br><br>&gt; 主要是学习翻译用的，目前翻译不完整<br><br>Typesafe utilities designed to reduce types <strong>verbosity</strong><br>and <strong>complexity</strong>  in Redux Architecture.<br><br><a id="more"></a><br><br><em>This library is part of the <a href="https://github.com/piotrwitek/react-redux-typescript-guide" target="_blank" rel="noopener">React &amp; Redux TypeScript Guide</a></em> ecosystem :book:<br><br><a href="https://www.npmjs.com/package/typesafe-actions" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/typesafe-actions.svg" alt="Latest Stable Version"></a><br><a href="https://www.npmjs.com/package/typesafe-actions" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/typesafe-actions.svg" alt="NPM Downloads"></a><br><a href="https://www.npmjs.com/package/typesafe-actions" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dt/typesafe-actions.svg" alt="NPM Downloads"></a><br><a href="https://www.npmjs.com/package/typesafe-actions" target="_blank" rel="noopener"><img src="https://img.shields.io/bundlephobia/minzip/typesafe-actions.svg" alt="Bundlephobia Size"></a><br><br><a href="https://semaphoreci.com/piotrekwitek/typesafe-actions" target="_blank" rel="noopener"><img src="https://semaphoreci.com/api/v1/piotrekwitek/typesafe-actions/branches/master/shields_badge.svg" alt="Build Status"></a><br><a href="https://david-dm.org/piotrwitek/typesafe-actions" target="_blank" rel="noopener"><img src="https://david-dm.org/piotrwitek/typesafe-actions/status.svg" alt="Dependencies Status"></a><br><a href="https://david-dm.org/piotrwitek/typesafe-actions?type=peer" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/l/typesafe-actions.svg?style=flat" alt="License"></a><br><a href="https://spectrum.chat/typesafe-actions" target="_blank" rel="noopener"><img src="https://withspectrum.github.io/badge/badge.svg" alt="Join the community on Spectrum"></a><br><br><br><br>:star: <em>Found it useful? Want more updates?</em> <a href="https://github.com/piotrwitek/typesafe-actions/stargazers" target="_blank" rel="noopener"><strong>Show your support by giving a :star:</strong></a><br><br>:tada: <em>Now updated to support <strong>TypeScript v3.5</strong></em> :tada:<br><br><a href="https://www.buymeacoffee.com/zh9guxbA5" target="_blank" rel="noopener"><br>  <img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me a Coffee"><br></a><br><a href="https://www.patreon.com/piotrekwitek" target="_blank" rel="noopener"><br>  <img src="https://c5.patreon.com/external/logo/become_a_patron_button@2x.png" alt="Become a Patron" width="160"><br></a><br><br></div><hr><p><strong>Features</strong></p><ul><li><strong>minimalistic</strong> - according to <code>size-snapshot</code> (Minified: 3.48 KB, Gzipped: 1.03 KB), check also on <a href="https://bundlephobia.com/result?p=typesafe-actions" target="_blank" rel="noopener">bundlephobia</a></li><li><strong>secure and optimized</strong> - no external dependencies, bundled in 3 different formats (<code>cjs</code>, <code>esm</code> and <code>umd</code> for browser) with separate optimized bundles for dev &amp; prod (same as <code>react</code>)</li><li><strong>focus on quality</strong> - complete test-suite for an entire API surface containing regular runtime tests and extra type-tests to guarantee <strong>type soundness</strong> and to prevent regressions in the future TypeScript versions</li><li><strong>focus on performance</strong> - integrated performance benchmarks to guarantee that the computational complexity of types are in check and there are no slow-downs when your application grow <code>npm run benchmark:XXX</code></li></ul><p><strong>Codesandbox links</strong></p><ul><li>Reference Todo-App implementation using <code>typesafe-actions</code>: <a href="https://codesandbox.io/s/github/piotrwitek/typesafe-actions/tree/master/codesandbox" target="_blank" rel="noopener">Link</a></li><li>Starter to help reproduce bug reports: <a href="https://codesandbox.io/s/github/piotrwitek/typesafe-actions/tree/master/codesandbox" target="_blank" rel="noopener">Link</a></li></ul><hr><h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><!-- START doctoc generated TOC please keep comment here to allow auto update --><!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --><ul><li><a href="#motivation">Motivation</a></li><li><a href="#installation">Installation</a></li><li><a href="#compatibility-notes">Compatibility Notes</a></li><li><a href="#contributing-guide">Contributing Guide</a></li><li><a href="#funding">Funding</a></li><li><a href="#tutorial">Tutorial</a><ul><li><a href="#constants">Constants</a></li><li><a href="#actions">Actions</a><ul><li><a href="#1-basic-actions">1. Basic actions</a></li><li><a href="#2-fsa-compliant-actions">2. FSA compliant actions</a></li><li><a href="#3-custom-actions-non-standard-use-cases">3. Custom actions (non-standard use-cases)</a></li></ul></li><li><a href="#action-helpers">Action Helpers</a><ul><li><a href="#using-action-creators-instances-instead-of-type-constants">Using action-creators instances instead of type-constants</a></li><li><a href="#using-regular-type-constants">Using regular type-constants</a></li></ul></li><li><a href="#reducers">Reducers</a><ul><li><a href="#extending-internal-types-to-enable-type-free-syntax-with-createreducer">Extending internal types to enable type-free syntax with <code>createReducer</code></a></li><li><a href="#using-createreducer-api-with-type-free-syntax">Using createReducer API with type-free syntax</a></li><li><a href="#alternative-usage-with-regular-switch-reducer">Alternative usage with regular switch reducer</a></li></ul></li><li><a href="#async-flows">Async-Flows</a><ul><li><a href="#with-redux-observable-epics">With <code>redux-observable</code> epics</a></li><li><a href="#with-redux-saga-sagas">With <code>redux-saga</code> sagas</a></li></ul></li></ul></li><li><a href="#api-docs">API Docs</a><ul><li><a href="#action-creators-api">Action-Creators API</a><ul><li><a href="#action"><code>action</code></a></li><li><a href="#createaction"><code>createAction</code></a></li><li><a href="#createstandardaction"><code>createStandardAction</code></a></li><li><a href="#createcustomaction"><code>createCustomAction</code></a></li><li><a href="#createasyncaction"><code>createAsyncAction</code></a></li></ul></li><li><a href="#reducer-creators-api">Reducer-Creators API</a><ul><li><a href="#createreducer"><code>createReducer</code></a></li></ul></li><li><a href="#action-helpers-api">Action-Helpers API</a><ul><li><a href="#gettype"><code>getType</code></a></li><li><a href="#isactionof"><code>isActionOf</code></a></li><li><a href="#isoftype"><code>isOfType</code></a></li></ul></li><li><a href="#type-helpers-api">Type-Helpers API</a><ul><li><a href="#actiontype"><code>ActionType</code></a></li><li><a href="#statetype"><code>StateType</code></a></li></ul></li></ul></li><li><a href="#migration-guides">Migration Guides</a><ul><li><a href="#v3xx-to-v4xx"><code>v3.x.x</code> to <code>v4.x.x</code></a></li><li><a href="#v2xx-to-v3xx"><code>v2.x.x</code> to <code>v3.x.x</code></a></li><li><a href="#v1xx-to-v2xx"><code>v1.x.x</code> to <code>v2.x.x</code></a></li><li><a href="#migrating-from-redux-actions-to-typesafe-actions">Migrating from <code>redux-actions</code> to <code>typesafe-actions</code></a></li></ul></li><li><a href="#recipes">Recipes</a><ul><li><a href="#restrict-meta-type-in-action-creator">Restrict Meta type in <code>action</code> creator</a></li></ul></li><li><a href="#compare-to-others">Compare to others</a><ul><li><a href="#redux-actions"><code>redux-actions</code></a></li></ul></li><li><a href="#mit-license">MIT License</a></li></ul><!-- END doctoc generated TOC please keep comment here to allow auto update --><hr><h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p>当时我准备把Redux和Typescript进行结合开发，我尝试使用<a href="https://redux-actions.js.org/" target="_blank" rel="noopener">redux-actions</a> 来减少需要维护的代码和 <strong>action-creators</strong> 模板。不幸的是，由于错误的类型以及不完整的类型接口布遍了代码，所以结果并不理想<a href="#redux-actions">(点击这里查看对照)</a>  </p><p>现存的解决方案不是太冗余就是使用 class 来解决(可读性差，而且需要new关键字😱)</p><p><strong>所以我创建了<code>typesafe-actions</code> 来解决上述的痛点</strong></p><p>核心设计方案是设计一个使用TypeScript中<strong>type-inference</strong>💪力量的API来举起“可维护的负担”的类型注释。另外，我希望使他“看起来或者感觉起来”都尽可能的接近我们所习惯的JavaScript❤️,所以我不想写太多多余的注解来给代码带来过多的噪点。</p><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">// NPM<br>npm install typesafe-actions<br><br>// YARN<br>yarn add typesafe-actions<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="兼容性注意"><a href="#兼容性注意" class="headerlink" title="兼容性注意"></a>兼容性注意</h2><p><strong>TypeScript support</strong></p><ul><li><a href="mailto:`typesafe-actions@1.X.X" target="_blank" rel="noopener">`typesafe-actions@1.X.X</a>` - minimal TS v2.7</li><li><a href="mailto:`typesafe-actions@2.X.X" target="_blank" rel="noopener">`typesafe-actions@2.X.X</a>` - minimal TS v2.9</li><li><a href="mailto:`typesafe-actions@3.X.X" target="_blank" rel="noopener">`typesafe-actions@3.X.X</a>` - minimal TS v3.2</li><li><a href="mailto:`typesafe-actions@4.X.X" target="_blank" rel="noopener">`typesafe-actions@4.X.X</a>` - minimal TS v3.2</li></ul><p><strong>浏览器支持情况</strong></p><p>兼容所有主流浏览器。</p><p>旧的浏览器的支持情况：IE &lt;= 11 ，某些手机浏览器你需要提供下列的扩展库</p><ul><li><a href="https://developer.mozilla.org/pl/docs/Web/JavaScript/Referencje/Obiekty/Object/assign#Polyfill" target="_blank" rel="noopener">Object.assign</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes" target="_blank" rel="noopener">Array.prototype.includes</a></li></ul><p><strong>Recommended polyfill for IE</strong></p><p>To provide the best compatibility please include a popular polyfill package in your application, such as <code>core-js</code> or <code>react-app-polyfill</code> for <code>create-react-app</code>.<br>Please check the <code>React</code> guidelines to learn how to do that: <a href="https://reactjs.org/docs/javascript-environment-requirements.html" target="_blank" rel="noopener">LINK</a><br>A polyfill fo IE11 is included in our <code>/codesandbox</code> application.</p><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="Contributing-Guide"><a href="#Contributing-Guide" class="headerlink" title="Contributing Guide"></a>Contributing Guide</h2><p>We are open for contributions. If you’re planning to contribute please make sure to read the contributing guide: <a href="/CONTRIBUTING.md">CONTRIBUTING.md</a></p><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="Funding"><a href="#Funding" class="headerlink" title="Funding"></a>Funding</h2><p><strong>Typesafe-Actions</strong> is an independent open-source project created by people investing their free time for the benefit of our community.</p><p>If you are using <strong>Typesafe-Actions</strong> please consider donating as this will guarantee the project will be updated and maintained in the long run.</p><p>Issues can be funded by anyone interested in them being resolved. Reward will be transparently distributed to the contributor handling the task through the IssueHunt platform.</p><p><a href="https://issuehunt.io/repos/110746954" target="_blank" rel="noopener"><img src="https://issuehunt.io/static/embed/issuehunt-button-v1.svg" alt="Let&#39;s fund issues in this repository"></a></p><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="Tutorial"><a href="#Tutorial" class="headerlink" title="Tutorial"></a>Tutorial</h2><p>为了展示使用了这个库<strong>type-safety</strong>后的灵活性和强大，让我们使用Redux结构来构建一个最常见的应用——经典的 todo-app 应用</p><blockquote><p><strong>注意</strong><br>请确保你以具备以下的知识点以便能顺利的完成教程: <a href="https://www.typescriptlang.org/docs/handbook/type-inference.html" target="_blank" rel="noopener">Type Inference</a>, <a href="https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#control-flow-based-type-analysis" target="_blank" rel="noopener">Control flow analysis</a>, <a href="https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#tagged-union-types" target="_blank" rel="noopener">Tagged union types</a>, <a href="https://www.typescriptlang.org/docs/handbook/generics.html" target="_blank" rel="noopener">Generics</a> and <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html" target="_blank" rel="noopener">Advanced Types</a>.</p></blockquote><p><a href="#table-of-contents">⇧ back to top</a></p><h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><blockquote><p><strong>RECOMMENDATION:</strong><br>When using <code>typesafe-actions</code> in your project you won’t need to export and reuse <strong>string constants</strong>. It’s because <strong>action-creators</strong> created by this library have static property with <strong>action type</strong> that you can easily access using <strong>actions-helpers</strong> and then use it in reducers, epics, sagas, and basically any other place. This will simplify your codebase and remove some boilerplate code associated with the usage of <strong>string constants</strong>. Check our <code>/codesandbox</code> application to learn some best-practices to create such codebase.</p></blockquote><p><strong>使用字符串常量时的Typescript局限</strong> - 当使用字符创常量作为<code>action</code>的type时, 请确保使用<strong>简单易懂的字符串常量</strong>. 限制来自原 type-system, 因为所有的动态字符创操作（比如：字符串连接，字符串模板以及作为映射的对象）会扩大这个类型成为着急类，<code>String</code>。结果就是破坏了action的上下文意思。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// Example file: './constants.ts'</span><br><br><span class="hljs-comment">// WARNING: 错误的使用方法</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ADD = prefix + <span class="hljs-string">'ADD'</span>; <span class="hljs-comment">// =&gt; string</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ADD = <span class="hljs-string">`<span class="hljs-subst">$&#123;prefix&#125;</span>/ADD`</span>; <span class="hljs-comment">// =&gt; string</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>   ADD: <span class="hljs-string">'@prefix/ADD'</span>, <span class="hljs-comment">// =&gt; string</span><br>&#125;<br><br><span class="hljs-comment">// 正确的使用方法</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ADD = <span class="hljs-string">'@prefix/ADD'</span>; <span class="hljs-comment">// =&gt; '@prefix/ADD'</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TOGGLE = <span class="hljs-string">'@prefix/TOGGLE'</span>; <span class="hljs-comment">// =&gt; '@prefix/TOGGLE'</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (&#123;<br>  ADD: <span class="hljs-string">'@prefix/ADD'</span>, <span class="hljs-comment">// =&gt; '@prefix/ADD'</span><br>&#125; <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>) <span class="hljs-comment">// working in TS v3.4 and above =&gt; https://github.com/Microsoft/TypeScript/pull/29510</span><br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h3 id="Actions"><a href="#Actions" class="headerlink" title="Actions"></a>Actions</h3><p>不同的项目有不同的需求，不同的团队有不同的约定，这就是为什么我认为<code>typesafe-actions</code>设计的为什么需要设计的灵活。这里提供三种常用的不同方式让你选择，所以你可以选择最适合你团队的。</p><h4 id="1-Basic-actions"><a href="#1-Basic-actions" class="headerlink" title="1. Basic actions"></a>1. Basic actions</h4><p><code>action</code> 和 <code>createAction</code> 是两个使用预设好的属性 ({ type, payload, meta })来创建 <strong>actions</strong>的创建者. 这使他们简洁而又自以为是。</p><p>重要的属性是生成的<strong>action-creator</strong>将具有可变数量的参数并保留其语义名称（id，title，amount等）。</p><p>这两个创建者是非常像的，唯一不同的是 <code>action</code> 不能和 <code>action-helpers</code>一起使用。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; action, createAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> add = <span class="hljs-function">(<span class="hljs-params">title: <span class="hljs-built_in">string</span></span>) =&gt;</span> action(<span class="hljs-string">'todos/ADD'</span>, &#123; id: cuid(), title, completed: <span class="hljs-literal">false</span> &#125;);<br><span class="hljs-comment">// add: (title: string) =&gt; &#123; type: "todos/ADD"; payload: &#123; id: string, title: string, completed: boolean; &#125;; &#125;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> add = createAction(<span class="hljs-string">'todos/ADD'</span>, <span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> &#123;<br>  <span class="hljs-comment">// Note: "action" callback does not need "type" parameter</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">title: <span class="hljs-built_in">string</span></span>) =&gt;</span> action(&#123; id: cuid(), title, completed: <span class="hljs-literal">false</span> &#125;);<br>&#125;);<br><span class="hljs-comment">// add: (title: string) =&gt; &#123; type: "todos/ADD"; payload: &#123; id: string, title: string, completed: boolean; &#125;; &#125;</span><br></code></pre></td></tr></table></figure><h4 id="2-FSA-compliant-actions"><a href="#2-FSA-compliant-actions" class="headerlink" title="2. FSA compliant actions"></a>2. FSA compliant actions</h4><p>This style is aligned with <a href="https://github.com/redux-utilities/flux-standard-action" target="_blank" rel="noopener">Flux Standard Action</a>, so your <strong>action</strong> object shape is constrained to <code>({ type, payload, meta, error })</code>. It is using <strong>generic type arguments</strong> for <code>meta</code> and <code>payload</code> to simplify creation of type-safe action-creators.</p><p>It is important to notice that in the resulting <strong>action-creator</strong> arguments are also constrained to the predefined: <code>(payload, meta)</code>, making it the most opinionated creator.</p><blockquote><p><strong>TIP</strong>: This creator is the most compatible with <code>redux-actions</code> in case you are migrating.</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; createStandardAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> toggle = createStandardAction(<span class="hljs-string">'todos/TOGGLE'</span>)&lt;<span class="hljs-built_in">string</span>&gt;();<br><span class="hljs-comment">// toggle: (payload: string) =&gt; &#123; type: "todos/TOGGLE"; payload: string; &#125;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> add = createStandardAction(<span class="hljs-string">'todos/ADD'</span>).map(<br>  <span class="hljs-function">(<span class="hljs-params">title: <span class="hljs-built_in">string</span></span>) =&gt;</span> (&#123;<br>    payload: &#123; id: cuid(), title, completed: <span class="hljs-literal">false</span> &#125;,<br>  &#125;)<br>);<br><span class="hljs-comment">// add: (payload: string) =&gt; &#123; type: "todos/ADD"; payload: &#123; id: string, title: string, completed: boolean; &#125;; &#125;</span><br></code></pre></td></tr></table></figure><h4 id="3-Custom-actions-non-standard-use-cases"><a href="#3-Custom-actions-non-standard-use-cases" class="headerlink" title="3. Custom actions (non-standard use-cases)"></a>3. Custom actions (non-standard use-cases)</h4><p>This approach will give us the most flexibility of all creators, providing a variadic number of named parameters and custom properties on <strong>action</strong> object to fit all the custom use-cases.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; createCustomAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">const</span> add = createCustomAction(<span class="hljs-string">'todos/ADD'</span>, <span class="hljs-function"><span class="hljs-params">type</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">title: <span class="hljs-built_in">string</span></span>) =&gt;</span> (&#123; <span class="hljs-keyword">type</span>, id: cuid(), title, completed: <span class="hljs-literal">false</span> &#125;);<br>&#125;);<br><span class="hljs-comment">// add: (title: string) =&gt; &#123; type: "todos/ADD"; id: string; title: string; completed: boolean; &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>TIP</strong>: For more examples please check the <a href="#table-of-contents">API Docs</a>.</p></blockquote><blockquote><p><strong>RECOMMENDATION</strong><br>Common approach is to create a <code>RootAction</code> in the central point of your redux store - it will represent all possible action types in your application. You can even merge it with third-party action types as shown below to make your model complete.</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// types.d.ts</span><br><span class="hljs-comment">// example of including `react-router` actions in `RootAction`</span><br><span class="hljs-keyword">import</span> &#123; RouterAction, LocationChangeAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-redux'</span>;<br><span class="hljs-keyword">import</span> &#123; TodosAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/todos'</span>;<br><br><span class="hljs-keyword">type</span> ReactRouterAction = RouterAction | LocationChangeAction;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> RootAction =<br>  | ReactRouterAction<br>  | TodosAction;<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h3 id="Action-Helpers"><a href="#Action-Helpers" class="headerlink" title="Action Helpers"></a>Action Helpers</h3><p>现在我想展时以下<strong>action-helpers</strong>以及解释一下他的用例。我们将要实现一个没有副作用的当用户成功添加新数据时展现成功的提示。</p><p>主要注意以下，所有的这些helpers都是扮演者类型守护者，所以他们全部都是小标签组成的唯一Type(<code>RootAction</code>)来指定我们想要的action类型</p><p><strong>使用<code>action-creators</code>来替代类型常量</strong></p><p>我们可以用<strong>action-creators</strong>来替代类型常量来匹配reduces里指定的action以及epics用例。通过为包含类型字符的<strong>action-creator</strong>实例添加静态属性来使用</p><p>最常用的命令就是<code>getType</code>，他常用于常规的reducer中的switch cases:</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">switch</span> (action.type) &#123;<br>  <span class="hljs-keyword">case</span> getType(todos.add):<br>    <span class="hljs-comment">// below action type is narrowed to: &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>    <span class="hljs-keyword">return</span> [...state, action.payload];<br>  ...<br></code></pre></td></tr></table></figure><p>Then we have the <code>isActionOf</code> helper which accept <strong>action-creator</strong> as first parameter matching actions with corresponding type passed as second parameter (it’s a curried function).</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// epics.ts</span><br><span class="hljs-keyword">import</span> &#123; isActionOf &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">import</span> &#123; add &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./actions'</span>;<br><br><span class="hljs-keyword">const</span> addTodoToast: Epic&lt;RootAction, RootAction, RootState, Services&gt; = <span class="hljs-function">(<span class="hljs-params">action$, store, &#123; toastService &#125;</span>) =&gt;</span><br>  action$.pipe(<br>    filter(isActionOf(add)),<br>    tap(<span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> &#123; <span class="hljs-comment">// here action type is narrowed to: &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>      toastService.success(...);<br>    &#125;)<br>    ...<br>    <br>  <span class="hljs-comment">// Works with multiple actions! (with type-safety up to 5)</span><br>  action$.pipe(<br>    filter(isActionOf([add, toggle])) <span class="hljs-comment">// here action type is narrowed to a smaller union:</span><br>    <span class="hljs-comment">// &#123; type: "todos/ADD"; payload: Todo; &#125; | &#123; type: "todos/TOGGLE"; payload: string; &#125;</span><br></code></pre></td></tr></table></figure><h4 id="Using-regular-type-constants"><a href="#Using-regular-type-constants" class="headerlink" title="Using regular type-constants"></a>Using regular type-constants</h4><p>Alternatively if your team prefers to use regular <strong>type-constants</strong> you can still do that.</p><p>We have an equivalent helper (<code>isOfType</code>) which accept <strong>type-constants</strong> as parameter providing the same functionality.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// epics.ts</span><br><span class="hljs-keyword">import</span> &#123; isOfType &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">import</span> &#123; ADD &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./constants'</span>;<br><br><span class="hljs-keyword">const</span> addTodoToast: Epic&lt;RootAction, RootAction, RootState, Services&gt; = <span class="hljs-function">(<span class="hljs-params">action$, store, &#123; toastService &#125;</span>) =&gt;</span><br>  action$.pipe(<br>    filter(isOfType(ADD)),<br>    tap(<span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> &#123; <span class="hljs-comment">// here action type is narrowed to: &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>    ...<br>    <br>  <span class="hljs-comment">// Works with multiple actions! (with type-safety up to 5)</span><br>  action$.pipe(<br>    filter(isOfType([ADD, TOGGLE])) <span class="hljs-comment">// here action type is narrowed to a smaller union:</span><br>    <span class="hljs-comment">// &#123; type: "todos/ADD"; payload: Todo; &#125; | &#123; type: "todos/TOGGLE"; payload: string; &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>TIP:</strong> you can use action-helpers with other types of conditional statements.</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; isActionOf, isOfType &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">if</span> (isActionOf(actions.add, action)) &#123;<br>  <span class="hljs-comment">// here action is narrowed to: &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>&#125;<br><span class="hljs-comment">// or with type constants</span><br><span class="hljs-keyword">if</span> (isOfType(types.ADD, action)) &#123;<br>  <span class="hljs-comment">// here action is narrowed to: &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>&#125;<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h3 id="Reducers"><a href="#Reducers" class="headerlink" title="Reducers"></a>Reducers</h3><h4 id="Extending-internal-types-to-enable-type-free-syntax-with-createReducer"><a href="#Extending-internal-types-to-enable-type-free-syntax-with-createReducer" class="headerlink" title="Extending internal types to enable type-free syntax with createReducer"></a>Extending internal types to enable type-free syntax with <code>createReducer</code></h4><p>We can extend internal types of <code>typesafe-actions</code> module with <code>RootAction</code> definition of our application so that you don’t need to pass generic type arguments with <code>createReducer</code> API:</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// types.d.ts</span><br><span class="hljs-keyword">import</span> &#123; StateType, ActionType &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> RootAction = ActionType&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./actions'</span>).default&gt;;<br><br><span class="hljs-keyword">declare</span> <span class="hljs-keyword">module</span> 'typesafe-actions' &#123;<br>  <span class="hljs-keyword">interface</span> Types &#123;<br>    RootAction: RootAction;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// now you can use</span><br>createReducer(...)<br><span class="hljs-comment">// instead of</span><br>createReducer&lt;State, Action&gt;(...)<br></code></pre></td></tr></table></figure><h4 id="Using-createReducer-API-with-type-free-syntax"><a href="#Using-createReducer-API-with-type-free-syntax" class="headerlink" title="Using createReducer API with type-free syntax"></a>Using createReducer API with type-free syntax</h4><p>We can prevent a lot of boilerplate code and type errors using this powerfull and completely typesafe API.</p><p>Using handleAction chain API:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// using action-creators</span><br><span class="hljs-keyword">const</span> counterReducer = createReducer(<span class="hljs-number">0</span>)<br>  <span class="hljs-comment">// state and action type is automatically inferred and return type is validated to be exact type</span><br>  .handleAction(add, <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state + action.payload)<br>  .handleAction(add, ... <span class="hljs-comment">// &lt;= error is shown on duplicated or invalid actions</span><br>  .handleAction(increment, <span class="hljs-function">(<span class="hljs-params">state, _</span>) =&gt;</span> state + <span class="hljs-number">1</span>)<br>  .handleAction(... <span class="hljs-comment">// &lt;= error is shown when all actions are handled</span><br>  <br>  <span class="hljs-comment">// or handle multiple actions using array</span><br>  .handleAction([add, increment], <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span><br>    state + (action.type === <span class="hljs-string">'ADD'</span> ? action.payload : <span class="hljs-number">1</span>)<br>  );<br><br><span class="hljs-comment">// all the same scenarios are working when using type-constants</span><br><span class="hljs-keyword">const</span> counterReducer = createReducer(<span class="hljs-number">0</span>)<br>  .handleAction(<span class="hljs-string">'ADD'</span>, <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state + action.payload)<br>  .handleAction(<span class="hljs-string">'INCREMENT'</span>, <span class="hljs-function">(<span class="hljs-params">state, _</span>) =&gt;</span> state + <span class="hljs-number">1</span>);<br>  <br>counterReducer(<span class="hljs-number">0</span>, add(<span class="hljs-number">4</span>)); <span class="hljs-comment">// =&gt; 4</span><br>counterReducer(<span class="hljs-number">0</span>, increment()); <span class="hljs-comment">// =&gt; 1</span><br></code></pre></td></tr></table></figure></p><h4 id="Alternative-usage-with-regular-switch-reducer"><a href="#Alternative-usage-with-regular-switch-reducer" class="headerlink" title="Alternative usage with regular switch reducer"></a>Alternative usage with regular switch reducer</h4><p>First we need to start by generating a <strong>tagged union type</strong> of actions (<code>TodosAction</code>). It’s very easy to do by using <code>ActionType</code> <strong>type-helper</strong>.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; ActionType &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> todos <span class="hljs-keyword">from</span> <span class="hljs-string">'./actions'</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> TodosAction = ActionType&lt;<span class="hljs-keyword">typeof</span> todos&gt;;<br></code></pre></td></tr></table></figure><p>Now we define a regular reducer function by annotating <code>state</code> and <code>action</code> arguments with their respective types (<code>TodosAction</code> for action type).</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (state: Todo[] = [], action: TodosAction) =&gt; &#123;<br></code></pre></td></tr></table></figure><p>Now in the switch cases we can use the <code>type</code> property of action to narrowing the union type of <code>TodosAction</code> to an action that is corresponding to that type.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">switch</span> (action.type) &#123;<br>  <span class="hljs-keyword">case</span> getType(add):<br>    <span class="hljs-comment">// below action type is narrowed to: &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>    <span class="hljs-keyword">return</span> [...state, action.payload];<br>  ...<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h3 id="Async-Flows"><a href="#Async-Flows" class="headerlink" title="Async-Flows"></a>Async-Flows</h3><h4 id="With-redux-observable-epics"><a href="#With-redux-observable-epics" class="headerlink" title="With redux-observable epics"></a>With <code>redux-observable</code> epics</h4><p>To handle an async-flow of http request lets implement an <code>epic</code>. The <code>epic</code> will call a remote API using an injected <code>todosApi</code> client, which will return a Promise that we’ll need to handle by using three different actions that correspond to triggering, success and failure.</p><p>To help us simplify the creation process of necessary action-creators, we’ll use <code>createAsyncAction</code> function providing us with a nice common interface object <code>{ request: ... , success: ... , failure: ... }</code> that will nicely fit with the functional API of <code>RxJS</code>.<br>This will mitigate <strong>redux verbosity</strong> and greatly reduce the maintenance cost of type annotations for <strong>actions</strong> and <strong>action-creators</strong> that would otherwise be written explicitly.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// actions.ts</span><br><span class="hljs-keyword">import</span> &#123; createAsyncAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">const</span> fetchTodosAsync = createAsyncAction(<br>  <span class="hljs-string">'FETCH_TODOS_REQUEST'</span>,<br>  <span class="hljs-string">'FETCH_TODOS_SUCCESS'</span>,<br>  <span class="hljs-string">'FETCH_TODOS_FAILURE'</span>,<br>  <span class="hljs-string">'FETCH_TODOS_CANCEL'</span><br>)&lt;<span class="hljs-built_in">string</span>, Todo[], <span class="hljs-built_in">Error</span>, <span class="hljs-built_in">string</span>&gt;();<br><br><span class="hljs-comment">// epics.ts</span><br><span class="hljs-keyword">import</span> &#123; fetchTodosAsync &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./actions'</span>;<br><br><span class="hljs-keyword">const</span> fetchTodosFlow: Epic&lt;RootAction, RootAction, RootState, Services&gt; = <span class="hljs-function">(<span class="hljs-params">action$, store, &#123; todosApi &#125;</span>) =&gt;</span><br>  action$.pipe(<br>    filter(isActionOf(fetchTodosAsync.request)),<br>    switchMap(<span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span><br>      <span class="hljs-keyword">from</span>(todosApi.getAll(action.payload)).pipe(<br>        map(fetchTodosAsync.success),<br>        catchError(pipe(fetchTodosAsync.failure, of)),<br>        takeUntil(action$.pipe(filter(isActionOf(fetchTodosAsync.cancel)))),<br>      )<br>    );<br></code></pre></td></tr></table></figure><h4 id="With-redux-saga-sagas"><a href="#With-redux-saga-sagas" class="headerlink" title="With redux-saga sagas"></a>With <code>redux-saga</code> sagas</h4><p>With sagas it’s not possible to achieve the same degree of type-safety as with epics because of limitations coming from <code>redux-saga</code> API design.</p><p>Typescript issues:</p><ul><li><a href="https://github.com/Microsoft/TypeScript/issues/2983" target="_blank" rel="noopener">Typescript does not currently infer types resulting from a <code>yield</code> statement</a> so you have to manually assert the type  e.g. <code>const response: Todo[] = yield call(...</code></li></ul><p><em>Here is the latest recommendation although it’s not fully optimal. If you managed to cook something better, please open an issue to share your finding with us.</em></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; createAsyncAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">const</span> fetchTodosAsync = createAsyncAction(<br>  <span class="hljs-string">'FETCH_TODOS_REQUEST'</span>,<br>  <span class="hljs-string">'FETCH_TODOS_SUCCESS'</span>,<br>  <span class="hljs-string">'FETCH_TODOS_FAILURE'</span><br>)&lt;<span class="hljs-built_in">string</span>, Todo[], <span class="hljs-built_in">Error</span>&gt;();<br><br><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">addTodoSaga</span>(<span class="hljs-params">action: ReturnType&lt;<span class="hljs-keyword">typeof</span> fetchTodosAsync.request&gt;</span>): <span class="hljs-title">Generator</span> </span>&#123;<br>    <span class="hljs-keyword">const</span> response: Todo[] = <span class="hljs-keyword">yield</span> call(todosApi.getAll, action.payload);<br><br>    <span class="hljs-keyword">yield</span> put(fetchTodosAsync.success(response));<br>  &#125; <span class="hljs-keyword">catch</span> (err) &#123;<br>    <span class="hljs-keyword">yield</span> put(fetchTodosAsync.failure(err));<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="API-Docs"><a href="#API-Docs" class="headerlink" title="API Docs"></a>API Docs</h2><h3 id="Action-Creators-API"><a href="#Action-Creators-API" class="headerlink" title="Action-Creators API"></a>Action-Creators API</h3><h4 id="action"><a href="#action" class="headerlink" title="action"></a><code>action</code></h4><p><em>Simple <strong>action factory function</strong> to simplify creation of type-safe actions.</em></p><blockquote><p><strong>WARNING</strong>:<br>This approach will <strong>NOT WORK</strong> with <strong>action-helpers</strong> (such as <code>getType</code> and <code>isActionOf</code>) because it is creating <strong>action objects</strong> while all the other creator functions are returning <strong>enhanced action-creators</strong>.</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts">action(<span class="hljs-keyword">type</span>, payload?, meta?, error?)<br></code></pre></td></tr></table></figure><p>Examples:<br><a href="src/action.spec.ts">&gt; Advanced Usage Examples</a></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> increment = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> action(<span class="hljs-string">'INCREMENT'</span>);<br><span class="hljs-comment">// &#123; type: 'INCREMENT'; &#125;</span><br><br><span class="hljs-keyword">const</span> createUser = <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">number</span>, name: <span class="hljs-built_in">string</span></span>) =&gt;</span><br>  action(<span class="hljs-string">'CREATE_USER'</span>, &#123; id, name &#125;);<br><span class="hljs-comment">// &#123; type: 'CREATE_USER'; payload: &#123; id: number; name: string &#125;; &#125;</span><br><br><span class="hljs-keyword">const</span> getUsers = <span class="hljs-function">(<span class="hljs-params">params?: <span class="hljs-built_in">string</span></span>) =&gt;</span><br>  action(<span class="hljs-string">'GET_USERS'</span>, <span class="hljs-literal">undefined</span>, params);<br><span class="hljs-comment">// &#123; type: 'GET_USERS'; meta: string | undefined; &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>TIP</strong>: Starting from TypeScript v3.4 you can achieve similar results using new <code>as const</code> operator.</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> increment = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (&#123; <span class="hljs-keyword">type</span>: <span class="hljs-string">'INCREMENT'</span> &#125; <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>);<br></code></pre></td></tr></table></figure><h4 id="createAction"><a href="#createAction" class="headerlink" title="createAction"></a><code>createAction</code></h4><p><em>Create an enhanced action-creator with unlimited number of arguments.</em></p><ul><li>Resulting action-creator will preserve semantic names of their arguments  <code>(id, title, amount, etc...)</code>.</li><li>Returned action object have predefined properties <code>({ type, payload, meta })</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts">createAction(<span class="hljs-keyword">type</span>)<br>createAction(<span class="hljs-keyword">type</span>, <span class="hljs-function"><span class="hljs-params">actionCallback</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">namedArg1, namedArg2, ...namedArgN</span>) =&gt;</span> actionCallback(payload?, meta?)<br>&#125;)<br></code></pre></td></tr></table></figure><blockquote><p><strong>TIP</strong>: Injected <code>actionCallback</code> argument is similar to <code>action</code> API but doesn’t need the “type” parameter</p></blockquote><p>Examples:<br><a href="src/create-action.spec.ts">&gt; Advanced Usage Examples</a></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; createAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-comment">// - with type only</span><br><span class="hljs-keyword">const</span> increment = createAction(<span class="hljs-string">'INCREMENT'</span>);<br>dispatch(increment());<br><span class="hljs-comment">// &#123; type: 'INCREMENT' &#125;;</span><br><br><span class="hljs-comment">// - with type and payload</span><br><span class="hljs-keyword">const</span> add = createAction(<span class="hljs-string">'ADD'</span>, <span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">amount: <span class="hljs-built_in">number</span></span>) =&gt;</span> action(amount);<br>&#125;);<br>dispatch(add(<span class="hljs-number">10</span>));<br><span class="hljs-comment">// &#123; type: 'ADD', payload: number &#125;</span><br><br><span class="hljs-comment">// - with type and meta</span><br><span class="hljs-keyword">const</span> getTodos = createAction(<span class="hljs-string">'GET_TODOS'</span>, <span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">params: Params</span>) =&gt;</span> action(<span class="hljs-literal">undefined</span>, params);<br>&#125;);<br>dispatch(getTodos(<span class="hljs-string">'some_meta'</span>));<br><span class="hljs-comment">// &#123; type: 'GET_TODOS', meta: Params &#125;</span><br><br><span class="hljs-comment">// - and finally with type, payload and meta</span><br><span class="hljs-keyword">const</span> getTodo = createAction(<span class="hljs-string">'GET_TODO'</span>, <span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span>, meta: <span class="hljs-built_in">string</span></span>) =&gt;</span> action(id, meta);<br>&#125;);<br>dispatch(getTodo(<span class="hljs-string">'some_id'</span>, <span class="hljs-string">'some_meta'</span>));<br><span class="hljs-comment">// &#123; type: 'GET_TODO', payload: string, meta: string &#125;</span><br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h4 id="createStandardAction"><a href="#createStandardAction" class="headerlink" title="createStandardAction"></a><code>createStandardAction</code></h4><p><em>Create an enhanced action-creator compatible with <a href="https://github.com/redux-utilities/flux-standard-action" target="_blank" rel="noopener">Flux Standard Action</a> to reduce boilerplate and enforce convention.</em></p><ul><li>Resulting action-creator have predefined arguments <code>(payload, meta)</code></li><li>Returned action object have predefined properties <code>({ type, payload, meta, error })</code></li><li>But it also contains a <code>.map()</code> method that allow to map <code>(payload, meta)</code> arguments to a custom action object <code>({ customProp1, customProp2, ...customPropN })</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts">createStandardAction(<span class="hljs-keyword">type</span>)()<br>createStandardAction(<span class="hljs-keyword">type</span>)&lt;TPayload, TMeta?&gt;()<br>createStandardAction(<span class="hljs-keyword">type</span>).map(<span class="hljs-function">(<span class="hljs-params">payload, meta</span>) =&gt;</span> (&#123; customProp1, customProp2, ...customPropN &#125;))<br></code></pre></td></tr></table></figure><blockquote><p><strong>TIP</strong>: Using <code>undefined</code> as generic type parameter you can make the action-creator function require NO parameters.</p></blockquote><p>Examples:<br><a href="src/create-standard-action.spec.ts">&gt; Advanced Usage Examples</a></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; createStandardAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-comment">// Very concise with use of generic type arguments</span><br><span class="hljs-comment">// - with type only</span><br><span class="hljs-keyword">const</span> increment = createStandardAction(<span class="hljs-string">'INCREMENT'</span>)();<br><span class="hljs-keyword">const</span> increment = createStandardAction(<span class="hljs-string">'INCREMENT'</span>)&lt;<span class="hljs-literal">undefined</span>&gt;();<br>increment(); <span class="hljs-comment">// &#123; type: 'INCREMENT' &#125; (no parameters are required)</span><br><br><br><span class="hljs-comment">// - with type and payload</span><br><span class="hljs-keyword">const</span> add = createStandardAction(<span class="hljs-string">'ADD'</span>)&lt;<span class="hljs-built_in">number</span>&gt;();<br>add(<span class="hljs-number">10</span>); <span class="hljs-comment">// &#123; type: 'ADD', payload: number &#125;</span><br><br><span class="hljs-comment">// - with type and meta</span><br><span class="hljs-keyword">const</span> getData = createStandardAction(<span class="hljs-string">'GET_DATA'</span>)&lt;<span class="hljs-literal">undefined</span>, <span class="hljs-built_in">string</span>&gt;();<br>getData(<span class="hljs-literal">undefined</span>, <span class="hljs-string">'meta'</span>); <span class="hljs-comment">// &#123; type: 'GET_DATA', meta: string &#125;</span><br><br><span class="hljs-comment">// - and finally with type, payload and meta</span><br><span class="hljs-keyword">const</span> getData = createStandardAction(<span class="hljs-string">'GET_DATA'</span>)&lt;<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>&gt;();<br>getData(<span class="hljs-number">1</span>, <span class="hljs-string">'meta'</span>); <span class="hljs-comment">// &#123; type: 'GET_DATA', payload: number, meta: string &#125;</span><br><br><span class="hljs-comment">// Can map payload and meta arguments to a custom action object</span><br><span class="hljs-keyword">const</span> notify = createStandardAction(<span class="hljs-string">'NOTIFY'</span>).map(<br>  <span class="hljs-function">(<span class="hljs-params">payload: <span class="hljs-built_in">string</span>, meta: Meta</span>) =&gt;</span> (&#123;<br>    <span class="hljs-keyword">from</span>: meta.username,<br>    message: <span class="hljs-string">`<span class="hljs-subst">$&#123;username&#125;</span>: <span class="hljs-subst">$&#123;payload&#125;</span>`</span>,<br>    messageType: meta.type,<br>    datetime: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(),<br>  &#125;)<br>);<br><br>dispatch(notify(<span class="hljs-string">'Hello!'</span>, &#123; username: <span class="hljs-string">'Piotr'</span>, <span class="hljs-keyword">type</span>: <span class="hljs-string">'announcement'</span> &#125;));<br><span class="hljs-comment">// &#123; type: 'NOTIFY', from: string, message: string, messageType: MessageType, datetime: Date &#125;</span><br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h4 id="createCustomAction"><a href="#createCustomAction" class="headerlink" title="createCustomAction"></a><code>createCustomAction</code></h4><p><em>Create an enhanced action-creator with unlimited number of arguments and custom properties on action object.</em></p><ul><li>Resulting action-creator will preserve semantic names of their arguments  <code>(id, title, amount, etc...)</code>.</li><li>Returned action object have custom properties <code>({ type, customProp1, customProp2, ...customPropN })</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts">createCustomAction(<span class="hljs-keyword">type</span>, <span class="hljs-function"><span class="hljs-params">type</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">namedArg1, namedArg2, ...namedArgN</span>) =&gt;</span> (&#123; <span class="hljs-keyword">type</span>, customProp1, customProp2, ...customPropN &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure><p>Examples:<br><a href="src/create-action-with-type.spec.ts">&gt; Advanced Usage Examples</a></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; createCustomAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">const</span> add = createCustomAction(<span class="hljs-string">'CUSTOM'</span>, <span class="hljs-function"><span class="hljs-params">type</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">first: <span class="hljs-built_in">number</span>, second: <span class="hljs-built_in">number</span></span>) =&gt;</span> (&#123; <span class="hljs-keyword">type</span>, customProp1: first, customProp2: second &#125;);<br>&#125;);<br><br>dispatch(add(<span class="hljs-number">1</span>));<br><span class="hljs-comment">// &#123; type: "CUSTOM"; customProp1: number; customProp2: number; &#125;</span><br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h4 id="createAsyncAction"><a href="#createAsyncAction" class="headerlink" title="createAsyncAction"></a><code>createAsyncAction</code></h4><p><em>Create an object containing three enhanced action-creators to simplify handling of async flows (e.g. network request - request/success/failure).</em></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts">createAsyncAction(<br>  requestType, successType, failureType, cancelType?<br>)&lt;TRequestPayload, TSuccessPayload, TFailurePayload, TCancelPayload?&gt;()<br></code></pre></td></tr></table></figure><h5 id="AsyncActionCreator"><a href="#AsyncActionCreator" class="headerlink" title="AsyncActionCreator"></a><code>AsyncActionCreator</code></h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> AsyncActionCreator&lt;<br>  [TRequestType, TRequestPayload],<br>  [TSuccessType, TSuccessPayload],<br>  [TFailureType, TFailurePayload],<br>  [TCancelType, TCancelPayload]?<br>&gt; = &#123;<br>  request: StandardActionCreator&lt;TRequestType, TRequestPayload&gt;,<br>  success: StandardActionCreator&lt;TSuccessType, TSuccessPayload&gt;,<br>  failure: StandardActionCreator&lt;TFailureType, TFailurePayload&gt;,<br>  cancel?: StandardActionCreator&lt;TCancelType, TCancelPayload&gt;,<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>TIP</strong>: Using <code>undefined</code> as generic type parameter you can make the action-creator function require NO parameters.</p></blockquote><p>Examples:<br><a href="src/create-async-action.spec.ts">&gt; Advanced Usage Examples</a></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; createAsyncAction, AsyncActionCreator &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">const</span> fetchUsersAsync = createAsyncAction(<br>  <span class="hljs-string">'FETCH_USERS_REQUEST'</span>,<br>  <span class="hljs-string">'FETCH_USERS_SUCCESS'</span>,<br>  <span class="hljs-string">'FETCH_USERS_FAILURE'</span><br>)&lt;<span class="hljs-built_in">string</span>, User[], <span class="hljs-built_in">Error</span>&gt;();<br><br>dispatch(fetchUsersAsync.request(params));<br><br>dispatch(fetchUsersAsync.success(response));<br><br>dispatch(fetchUsersAsync.failure(err));<br><br><span class="hljs-keyword">const</span> fn = (<br>  a: AsyncActionCreator&lt;<br>    [<span class="hljs-string">'FETCH_USERS_REQUEST'</span>, <span class="hljs-built_in">string</span>],<br>    [<span class="hljs-string">'FETCH_USERS_SUCCESS'</span>, User[]],<br>    [<span class="hljs-string">'FETCH_USERS_FAILURE'</span>, <span class="hljs-built_in">Error</span>]<br>  &gt;<br>) =&gt; a;<br>fn(fetchUsersAsync);<br><br><span class="hljs-comment">// There is 4th optional argument to declare cancel action</span><br><span class="hljs-keyword">const</span> fetchUsersAsync = createAsyncAction(<br>  <span class="hljs-string">'FETCH_USERS_REQUEST'</span>,<br>  <span class="hljs-string">'FETCH_USERS_SUCCESS'</span>,<br>  <span class="hljs-string">'FETCH_USERS_FAILURE'</span><br>  <span class="hljs-string">'FETCH_USERS_CANCEL'</span><br>)&lt;<span class="hljs-built_in">string</span>, User[], <span class="hljs-built_in">Error</span>, <span class="hljs-built_in">string</span>&gt;();<br><br>dispatch(fetchUsersAsync.cancel(<span class="hljs-string">'reason'</span>));<br><br><span class="hljs-keyword">const</span> fn = (<br>  a: AsyncActionCreator&lt;<br>    [<span class="hljs-string">'FETCH_USERS_REQUEST'</span>, <span class="hljs-built_in">string</span>],<br>    [<span class="hljs-string">'FETCH_USERS_SUCCESS'</span>, User[]],<br>    [<span class="hljs-string">'FETCH_USERS_FAILURE'</span>, <span class="hljs-built_in">Error</span>],<br>    [<span class="hljs-string">'FETCH_USERS_CANCEL'</span>, <span class="hljs-built_in">string</span>]<br>  &gt;<br>) =&gt; a;<br>fn(fetchUsersAsync);<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h3 id="Reducer-Creators-API"><a href="#Reducer-Creators-API" class="headerlink" title="Reducer-Creators API"></a>Reducer-Creators API</h3><h4 id="createReducer"><a href="#createReducer" class="headerlink" title="createReducer"></a><code>createReducer</code></h4><p><em>Create a typesafe reducer</em></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts">createReducer&lt;TState, TRootAction&gt;(initialState, handlersMap?)<br>  .handleAction(<span class="hljs-keyword">type</span>, reducer)<br>  .handleAction([type1, type2, ...typeN], reducer)<br>  .handleAction(actionCreator, reducer)<br>  .handleAction([actionCreator1, actionCreator2, ...actionCreatorN], reducer)<br></code></pre></td></tr></table></figure><p>Examples:<br><a href="src/create-reducer.spec.ts">&gt; Advanced Usage Examples</a></p><blockquote><p><strong>TIP:</strong> You can use reducer API with a <strong>type-free</strong> syntax by <a href="#extending-internal-types-to-enable-type-free-syntax-with-createreducer">Extending internal types</a>, otherwise you’ll have to pass generic type arguments like in below examples<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// type-free syntax doesn't require generic type arguments</span><br><span class="hljs-keyword">const</span> counterReducer = createReducer(<span class="hljs-number">0</span>, &#123; <br>  ADD: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state + action.payload,<br>  [getType(increment)]: <span class="hljs-function">(<span class="hljs-params">state, _</span>) =&gt;</span> state + <span class="hljs-number">1</span>,<br>&#125;)<br></code></pre></td></tr></table></figure></p></blockquote><p>Using type-constants as keys in the object map:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; createReducer, getType &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span><br><br><span class="hljs-keyword">type</span> State = <span class="hljs-built_in">number</span>;<br><span class="hljs-keyword">type</span> Action = &#123; <span class="hljs-keyword">type</span>: <span class="hljs-string">'ADD'</span>, payload: <span class="hljs-built_in">number</span> &#125; | &#123; <span class="hljs-keyword">type</span>: <span class="hljs-string">'INCREMENT'</span> &#125;;<br><br><span class="hljs-keyword">const</span> counterReducer = createReducer&lt;State, Action&gt;(<span class="hljs-number">0</span>, &#123; <br>  ADD: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state + action.payload,<br>  [getType(increment)]: <span class="hljs-function">(<span class="hljs-params">state, _</span>) =&gt;</span> state + <span class="hljs-number">1</span>,<br>&#125;)<br><br>counterReducer(<span class="hljs-number">0</span>, add(<span class="hljs-number">4</span>)); <span class="hljs-comment">// =&gt; 4</span><br>counterReducer(<span class="hljs-number">0</span>, increment()); <span class="hljs-comment">// =&gt; 1</span><br></code></pre></td></tr></table></figure></p><p>Using handleAction chain API:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// using action-creators</span><br><span class="hljs-keyword">const</span> counterReducer = createReducer&lt;State, Action&gt;(<span class="hljs-number">0</span>)<br>  .handleAction(add, <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state + action.payload)<br>  .handleAction(increment, <span class="hljs-function">(<span class="hljs-params">state, _</span>) =&gt;</span> state + <span class="hljs-number">1</span>)<br><br>  <span class="hljs-comment">// handle multiple actions by using array</span><br>  .handleAction([add, increment], <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span><br>    state + (action.type === <span class="hljs-string">'ADD'</span> ? action.payload : <span class="hljs-number">1</span>)<br>  );<br><br><span class="hljs-comment">// all the same scenarios are working when using type-constants</span><br><span class="hljs-keyword">const</span> counterReducer = createReducer&lt;State, Action&gt;(<span class="hljs-number">0</span>)<br>  .handleAction(<span class="hljs-string">'ADD'</span>, <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state + action.payload)<br>  .handleAction(<span class="hljs-string">'INCREMENT'</span>, <span class="hljs-function">(<span class="hljs-params">state, _</span>) =&gt;</span> state + <span class="hljs-number">1</span>);<br>  <br>counterReducer(<span class="hljs-number">0</span>, add(<span class="hljs-number">4</span>)); <span class="hljs-comment">// =&gt; 4</span><br>counterReducer(<span class="hljs-number">0</span>, increment()); <span class="hljs-comment">// =&gt; 1</span><br></code></pre></td></tr></table></figure></p><p>Extend or compose various reducers together - every operation is completely typesafe:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> newCounterReducer = createReducer&lt;State, Action&gt;(<span class="hljs-number">0</span>)<br>  .handleAction(<span class="hljs-string">'SUBTRACT'</span>, <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state - action.payload)<br>  .handleAction(<span class="hljs-string">'DECREMENT'</span>, <span class="hljs-function">(<span class="hljs-params">state, _</span>) =&gt;</span> state - <span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">const</span> bigReducer = createReducer&lt;State, Action&gt;(<span class="hljs-number">0</span>, &#123;<br>  ...counterReducer.handlers, <span class="hljs-comment">// typesafe</span><br>  ...newCounterReducer.handlers, <span class="hljs-comment">// typesafe</span><br>  SUBTRACT: decrementReducer.handlers.DECREMENT, <span class="hljs-comment">// &lt;= error, wrong type</span><br>&#125;)<br></code></pre></td></tr></table></figure></p><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h3 id="Action-Helpers-API"><a href="#Action-Helpers-API" class="headerlink" title="Action-Helpers API"></a>Action-Helpers API</h3><h4 id="getType"><a href="#getType" class="headerlink" title="getType"></a><code>getType</code></h4><p><em>Get the <strong>type</strong> property value (narrowed to literal type) of given enhanced action-creator.</em></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts">getType(actionCreator)<br></code></pre></td></tr></table></figure><p><a href="src/get-type.spec.ts">&gt; Advanced Usage Examples</a></p><p>Examples:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; getType, createStandardAction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-keyword">const</span> add = createStandardAction(<span class="hljs-string">'ADD'</span>)&lt;<span class="hljs-built_in">number</span>&gt;();<br><br><span class="hljs-comment">// In switch reducer</span><br><span class="hljs-keyword">switch</span> (action.type) &#123;<br>  <span class="hljs-keyword">case</span> getType(add):<br>    <span class="hljs-comment">// action type is &#123; type: "ADD"; payload: number; &#125;</span><br>    <span class="hljs-keyword">return</span> state + action.payload;<br><br>  <span class="hljs-keyword">default</span>:<br>    <span class="hljs-keyword">return</span> state;<br>&#125;<br><br><span class="hljs-comment">// or with conditional statements</span><br><span class="hljs-keyword">if</span> (action.type === getType(add)) &#123;<br>  <span class="hljs-comment">// action type is &#123; type: "ADD"; payload: number; &#125;</span><br>&#125;<br></code></pre></td></tr></table></figure></p><p><a href="#table-of-contents">⇧ back to top</a></p><h4 id="isActionOf"><a href="#isActionOf" class="headerlink" title="isActionOf"></a><code>isActionOf</code></h4><p><em>Check if action is an instance of given enhanced action-creator(s)<br>(it will narrow action type to a type of given action-creator(s))</em></p><blockquote><p><strong>WARNING</strong>: Regular action creators and <a href="#action">action</a> will not work with this helper</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// can be used as a binary function</span><br>isActionOf(actionCreator, action)<br><span class="hljs-comment">// or as a curried function</span><br>isActionOf(actionCreator)(action)<br><span class="hljs-comment">// also accepts an array</span><br>isActionOf([actionCreator1, actionCreator2, ...actionCreatorN], action)<br><span class="hljs-comment">// with its curried equivalent</span><br>isActionOf([actionCreator1, actionCreator2, ...actionCreatorN])(action)<br></code></pre></td></tr></table></figure><p>Examples:<br><a href="src/is-action-of.spec.ts">&gt; Advanced Usage Examples</a></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; addTodo, removeTodo &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./todos-actions'</span>;<br><br><span class="hljs-comment">// Works with any filter type function (`Array.prototype.filter`, lodash, ramda, rxjs, etc.)</span><br><span class="hljs-comment">// - single action</span><br>[action1, action2, ...actionN]<br>  .filter(isActionOf(addTodo)) <span class="hljs-comment">// only actions with type `ADD` will pass</span><br>  .map(<span class="hljs-function">(<span class="hljs-params">action</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// action type is &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>    ...<br>    <br><span class="hljs-comment">// - multiple actions</span><br>[action1, action2, ...actionN]<br>  .filter(isActionOf([addTodo, removeTodo])) <span class="hljs-comment">// only actions with type `ADD` or 'REMOVE' will pass</span><br>  .do(<span class="hljs-function">(<span class="hljs-params">action</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// action type is &#123; type: "todos/ADD"; payload: Todo; &#125; | &#123; type: "todos/REMOVE"; payload: Todo; &#125;</span><br>    ...<br>      <br><span class="hljs-comment">// With conditional statements</span><br><span class="hljs-comment">// - single action</span><br><span class="hljs-keyword">if</span>(isActionOf(addTodo, action)) &#123;<br>  <span class="hljs-keyword">return</span> iAcceptOnlyTodoType(action.payload);<br>  <span class="hljs-comment">// action type is &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>&#125;<br><span class="hljs-comment">// - multiple actions</span><br><span class="hljs-keyword">if</span>(isActionOf([addTodo, removeTodo], action)) &#123;<br>  <span class="hljs-keyword">return</span> iAcceptOnlyTodoType(action.payload);<br>  <span class="hljs-comment">// action type is &#123; type: "todos/ADD"; payload: Todo; &#125; | &#123; type: "todos/REMOVE"; payload: Todo; &#125;</span><br>&#125;<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h4 id="isOfType"><a href="#isOfType" class="headerlink" title="isOfType"></a><code>isOfType</code></h4><p><em>Check if action type property is equal given type-constant(s)<br>(it will narrow action type to a type of given action-creator(s))</em></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// can be used as a binary function</span><br>isOfType(<span class="hljs-keyword">type</span>, action)<br><span class="hljs-comment">// or as curried function</span><br>isOfType(<span class="hljs-keyword">type</span>)(action)<br><span class="hljs-comment">// also accepts an array</span><br>isOfType([type1, type2, ...typeN], action)<br><span class="hljs-comment">// with its curried equivalent</span><br>isOfType([type1, type2, ...typeN])(action)<br></code></pre></td></tr></table></figure><p>Examples:<br><a href="src/is-of-type.spec.ts">&gt; Advanced Usage Examples</a></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; ADD, REMOVE &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./todos-types'</span>;<br><br><span class="hljs-comment">// Works with any filter type function (`Array.prototype.filter`, lodash, ramda, rxjs, etc.)</span><br><span class="hljs-comment">// - single action</span><br>[action1, action2, ...actionN]<br>  .filter(isOfType(ADD)) <span class="hljs-comment">// only actions with type `ADD` will pass</span><br>  .map(<span class="hljs-function">(<span class="hljs-params">action</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// action type is &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>    ...<br>    <br><span class="hljs-comment">// - multiple actions</span><br>[action1, action2, ...actionN]<br>  .filter(isOfType([ADD, REMOVE])) <span class="hljs-comment">// only actions with type `ADD` or 'REMOVE' will pass</span><br>  .do(<span class="hljs-function">(<span class="hljs-params">action</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// action type is &#123; type: "todos/ADD"; payload: Todo; &#125; | &#123; type: "todos/REMOVE"; payload: Todo; &#125;</span><br>    ...<br>      <br><span class="hljs-comment">// With conditional statements</span><br><span class="hljs-comment">// - single action</span><br><span class="hljs-keyword">if</span>(isOfType(ADD, action)) &#123;<br>  <span class="hljs-keyword">return</span> iAcceptOnlyTodoType(action.payload);<br>  <span class="hljs-comment">// action type is &#123; type: "todos/ADD"; payload: Todo; &#125;</span><br>&#125;<br><span class="hljs-comment">// - multiple actions</span><br><span class="hljs-keyword">if</span>(isOfType([ADD, REMOVE], action)) &#123;<br>  <span class="hljs-keyword">return</span> iAcceptOnlyTodoType(action.payload);<br>  <span class="hljs-comment">// action type is &#123; type: "todos/ADD"; payload: Todo; &#125; | &#123; type: "todos/REMOVE"; payload: Todo; &#125;</span><br>&#125;<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h3 id="Type-Helpers-API"><a href="#Type-Helpers-API" class="headerlink" title="Type-Helpers API"></a>Type-Helpers API</h3><p>Below helper functions are very flexible generalizations, works great with nested structures and will cover numerous different use-cases.</p><h4 id="ActionType"><a href="#ActionType" class="headerlink" title="ActionType"></a><code>ActionType</code></h4><p><em>Powerful type-helper that will infer union type from <strong>import * as …</strong> or <strong>action-creator map</strong> object.</em></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; ActionType &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-comment">// with "import * as ..."</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> todos <span class="hljs-keyword">from</span> <span class="hljs-string">'./actions'</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> TodosAction = ActionType&lt;<span class="hljs-keyword">typeof</span> todos&gt;;<br><span class="hljs-comment">// TodosAction: &#123; type: 'action1' &#125; | &#123; type: 'action2' &#125; | &#123; type: 'action3' &#125;</span><br><br><span class="hljs-comment">// with nested action-creator map case</span><br><span class="hljs-keyword">const</span> actions = &#123;<br>  action1: createAction(<span class="hljs-string">'action1'</span>),<br>  nested: &#123;<br>    action2: createAction(<span class="hljs-string">'action2'</span>),<br>    moreNested: &#123;<br>      action3: createAction(<span class="hljs-string">'action3'</span>),<br>    &#125;,<br>  &#125;,<br>&#125;;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> RootAction = ActionType&lt;<span class="hljs-keyword">typeof</span> actions&gt;;<br><span class="hljs-comment">// RootAction: &#123; type: 'action1' &#125; | &#123; type: 'action2' &#125; | &#123; type: 'action3' &#125;</span><br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><h4 id="StateType"><a href="#StateType" class="headerlink" title="StateType"></a><code>StateType</code></h4><p><em>Powerful type helper that will infer state object type from <strong>reducer function</strong> and <strong>nested/combined reducers</strong>.</em></p><blockquote><p><strong>WARNING</strong>: working with redux@4+ types</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; combineReducers &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>;<br><span class="hljs-keyword">import</span> &#123; StateType &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typesafe-actions'</span>;<br><br><span class="hljs-comment">// with reducer function</span><br><span class="hljs-keyword">const</span> todosReducer = <span class="hljs-function">(<span class="hljs-params">state: Todo[] = [], action: TodosAction</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">switch</span> (action.type) &#123;<br>    <span class="hljs-keyword">case</span> getType(todos.add):<br>      <span class="hljs-keyword">return</span> [...state, action.payload];<br>    ...<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> TodosState = StateType&lt;<span class="hljs-keyword">typeof</span> todosReducer&gt;;<br><br><span class="hljs-comment">// with nested/combined reducers</span><br><span class="hljs-keyword">const</span> rootReducer = combineReducers(&#123;<br>  router: routerReducer,<br>  counters: countersReducer,<br>&#125;);<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> RootState = StateType&lt;<span class="hljs-keyword">typeof</span> rootReducer&gt;;<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="Migration-Guides"><a href="#Migration-Guides" class="headerlink" title="Migration Guides"></a>Migration Guides</h2><h3 id="v3-x-x-to-v4-x-x"><a href="#v3-x-x-to-v4-x-x" class="headerlink" title="v3.x.x to v4.x.x"></a><code>v3.x.x</code> to <code>v4.x.x</code></h3><p>From <code>v4.x.x</code> all action creators will use <code>undefined</code> instead of <code>void</code> as a generic type parameter to make the action-creator function require NO parameters.<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> increment = createStandardAction(<span class="hljs-string">'INCREMENT'</span>)&lt;<span class="hljs-literal">undefined</span>&gt;();<br>increment(); <span class="hljs-comment">// &lt;= no parameters required</span><br><br><span class="hljs-keyword">const</span> fetchUsersAsync = createAsyncAction(<br>  <span class="hljs-string">'FETCH_USERS_REQUEST'</span>,<br>  <span class="hljs-string">'FETCH_USERS_SUCCESS'</span>,<br>  <span class="hljs-string">'FETCH_USERS_FAILURE'</span><br>)&lt;<span class="hljs-literal">undefined</span>, User[], <span class="hljs-built_in">Error</span>&gt;();<br>fetchUsersAsync.request(); <span class="hljs-comment">// &lt;= no parameters required</span><br></code></pre></td></tr></table></figure></p><h3 id="v2-x-x-to-v3-x-x"><a href="#v2-x-x-to-v3-x-x" class="headerlink" title="v2.x.x to v3.x.x"></a><code>v2.x.x</code> to <code>v3.x.x</code></h3><p><code>v3.x.x</code> API is backward compatible with <code>v2.x.x</code>. You’ll only need to update typescript dependency to <code>&gt; v3.1</code>.</p><h3 id="v1-x-x-to-v2-x-x"><a href="#v1-x-x-to-v2-x-x" class="headerlink" title="v1.x.x to v2.x.x"></a><code>v1.x.x</code> to <code>v2.x.x</code></h3><p>In v2 we provide a <code>createActionDeprecated</code> function compatible with v1 API to help with incremental migration.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// in v1 we created action-creator like this:</span><br><span class="hljs-keyword">const</span> getTodo = createAction(<span class="hljs-string">'GET_TODO'</span>,<br>  <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span>, meta: <span class="hljs-built_in">string</span></span>) =&gt;</span> (&#123;<br>    <span class="hljs-keyword">type</span>: <span class="hljs-string">'GET_TODO'</span>,<br>    payload: id,<br>    meta: meta,<br>  &#125;)<br>);<br><br>getTodo(<span class="hljs-string">'some_id'</span>, <span class="hljs-string">'some_meta'</span>); <span class="hljs-comment">// &#123; type: 'GET_TODO', payload: 'some_id', meta: 'some_meta' &#125;</span><br><br><span class="hljs-comment">// in v2 API we offer few different styles - please choose your preference</span><br><span class="hljs-keyword">const</span> getTodoNoHelpers = <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span>, meta: <span class="hljs-built_in">string</span></span>) =&gt;</span> action(<span class="hljs-string">'GET_TODO'</span>, id, meta);<br><br><span class="hljs-keyword">const</span> getTodoWithHelpers = createAction(<span class="hljs-string">'GET_TODO'</span>, <span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span>, meta: <span class="hljs-built_in">string</span></span>) =&gt;</span> action(id, meta);<br>&#125;);<br><br><span class="hljs-keyword">const</span> getTodoFSA = createStandardAction(<span class="hljs-string">'GET_TODO'</span>)&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;();<br><br><span class="hljs-keyword">const</span> getTodoCustom = createStandardAction(<span class="hljs-string">'GET_TODO'</span>).map(<br>  <span class="hljs-function">(<span class="hljs-params">&#123; id, meta &#125;: &#123; id: <span class="hljs-built_in">string</span>; meta: <span class="hljs-built_in">string</span>; &#125;</span>) =&gt;</span> (&#123;<br>    payload: id,<br>    meta,<br>  &#125;)<br>);<br></code></pre></td></tr></table></figure><h3 id="Migrating-from-redux-actions-to-typesafe-actions"><a href="#Migrating-from-redux-actions-to-typesafe-actions" class="headerlink" title="Migrating from redux-actions to typesafe-actions"></a>Migrating from <code>redux-actions</code> to <code>typesafe-actions</code></h3><ul><li>createAction(s)</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts">createAction(<span class="hljs-keyword">type</span>, payloadCreator, metaCreator) =&gt; createStandardAction(<span class="hljs-keyword">type</span>)() || createStandardAction(<span class="hljs-keyword">type</span>).map(payloadMetaCreator)<br><br>createActions() =&gt; <span class="hljs-comment">// COMING SOON!</span><br></code></pre></td></tr></table></figure><ul><li>handleAction(s)</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts">handleAction(<span class="hljs-keyword">type</span>, reducer, initialState) =&gt; createReducer(initialState).handleAction(<span class="hljs-keyword">type</span>, reducer)<br><br>handleActions(reducerMap, initialState) =&gt; createReducer(initialState, reducerMap)<br></code></pre></td></tr></table></figure><blockquote><p>TIP: If migrating from JS -&gt; TS, you can swap out action-creators from <code>redux-actions</code> with action-creators from <code>typesafe-actions</code> in your <code>handleActions</code> handlers. This works because the action-creators from <code>typesafe-actions</code> provide the same <code>toString</code> method implementation used by <code>redux-actions</code> to match actions to the correct reducer.</p></blockquote><ul><li>combineActions</li></ul><p>Not needed because each function in the API accept single value or array of values for action types or action creators.</p><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="Recipes"><a href="#Recipes" class="headerlink" title="Recipes"></a>Recipes</h2><h3 id="Restrict-Meta-type-in-action-creator"><a href="#Restrict-Meta-type-in-action-creator" class="headerlink" title="Restrict Meta type in action creator"></a>Restrict Meta type in <code>action</code> creator</h3><p>Using this recipe you can create an action creator with restricted Meta type with exact object shape.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs tsx">export type MetaType = &#123;<br>  analytics?: &#123;<br>    eventName: string;<br>  &#125;;<br>&#125;;<br><br>export const actionWithRestrictedMeta = &lt;T extends string, P&gt;(<br>  type: T,<br>  payload: P,<br>  meta: MetaType<br>) =&gt; action(type, payload, meta);<br><br>export const validAction = (payload: string) =&gt;<br>  actionWithRestrictedMeta(&apos;type&apos;, payload, &#123; analytics: &#123; eventName: &apos;success&apos; &#125; &#125;); // OK!<br><br>export const invalidAction = (payload: string) =&gt;<br>  actionWithRestrictedMeta(&apos;type&apos;, payload, &#123; analytics: &#123; excessProp: &apos;no way!&apos; &#125; &#125;); // Error<br>// Object literal may only specify known properties, and &apos;excessProp&apos; does not exist in type &apos;&#123; eventName: string; &#125;<br></code></pre></td></tr></table></figure><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="Compare-to-others"><a href="#Compare-to-others" class="headerlink" title="Compare to others"></a>Compare to others</h2><p>Here you can find out a detailed comparison of <code>typesafe-actions</code> to other solutions.</p><h3 id="redux-actions"><a href="#redux-actions" class="headerlink" title="redux-actions"></a><code>redux-actions</code></h3><p>Lets compare the 3 most common variants of action-creators (with type only, with payload and with payload + meta)</p><p>Note: tested with “@types/redux-actions”: “2.2.3”</p><p><strong>- with type only (no payload)</strong></p><h5 id="redux-actions-1"><a href="#redux-actions-1" class="headerlink" title="redux-actions"></a>redux-actions</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> notify1 = createAction(<span class="hljs-string">'NOTIFY'</span>);<br><span class="hljs-comment">// resulting type:</span><br><span class="hljs-comment">// () =&gt; &#123;</span><br><span class="hljs-comment">//   type: string;</span><br><span class="hljs-comment">//   payload: void | undefined;</span><br><span class="hljs-comment">//   error: boolean | undefined;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>with <code>redux-actions</code> you can notice the redundant nullable <code>payload</code> property and literal type of <code>type</code> property is lost (discrimination of union type would not be possible)</p></blockquote><h5 id="typesafe-actions"><a href="#typesafe-actions" class="headerlink" title="typesafe-actions"></a>typesafe-actions</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> notify1 = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> action(<span class="hljs-string">'NOTIFY'</span>);<br><span class="hljs-comment">// resulting type:</span><br><span class="hljs-comment">// () =&gt; &#123;</span><br><span class="hljs-comment">//   type: "NOTIFY";</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>with <code>typesafe-actions</code> there is no excess nullable types and no excess properties and the action “type” property is containing a literal type</p></blockquote><p><strong>- with payload</strong></p><h5 id="redux-actions-2"><a href="#redux-actions-2" class="headerlink" title="redux-actions"></a>redux-actions</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> notify2 = createAction(<span class="hljs-string">'NOTIFY'</span>,<br>  <span class="hljs-function">(<span class="hljs-params">username: <span class="hljs-built_in">string</span>, message?: <span class="hljs-built_in">string</span></span>) =&gt;</span> (&#123;<br>    message: <span class="hljs-string">`<span class="hljs-subst">$&#123;username&#125;</span>: <span class="hljs-subst">$&#123;message || 'Empty!'&#125;</span>`</span>,<br>  &#125;)<br>);<br><span class="hljs-comment">// resulting type:</span><br><span class="hljs-comment">// (t1: string) =&gt; &#123;</span><br><span class="hljs-comment">//   type: string;</span><br><span class="hljs-comment">//   payload: &#123; message: string; &#125; | undefined;</span><br><span class="hljs-comment">//   error: boolean | undefined;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>first the optional <code>message</code> parameter is lost, <code>username</code> semantic argument name is changed to some generic <code>t1</code>, <code>type</code> property is widened once again and <code>payload</code> is nullable because of broken inference</p></blockquote><h5 id="typesafe-actions-1"><a href="#typesafe-actions-1" class="headerlink" title="typesafe-actions"></a>typesafe-actions</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> notify2 = <span class="hljs-function">(<span class="hljs-params">username: <span class="hljs-built_in">string</span>, message?: <span class="hljs-built_in">string</span></span>) =&gt;</span> action(<br>  <span class="hljs-string">'NOTIFY'</span>,<br>  &#123; message: <span class="hljs-string">`<span class="hljs-subst">$&#123;username&#125;</span>: <span class="hljs-subst">$&#123;message || 'Empty!'&#125;</span>`</span> &#125;,<br>);<br><span class="hljs-comment">// resulting type:</span><br><span class="hljs-comment">// (username: string, message?: string | undefined) =&gt; &#123;</span><br><span class="hljs-comment">//   type: "NOTIFY";</span><br><span class="hljs-comment">//   payload: &#123; message: string; &#125;;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p><code>typesafe-actions</code> infer very precise resulting type, notice working optional parameters and semantic argument names are preserved which is really important for great intellisense experience</p></blockquote><p><strong>- with payload and meta</strong></p><h5 id="redux-actions-3"><a href="#redux-actions-3" class="headerlink" title="redux-actions"></a>redux-actions</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> notify3 = createAction(<span class="hljs-string">'NOTIFY'</span>,<br>  <span class="hljs-function">(<span class="hljs-params">username: <span class="hljs-built_in">string</span>, message?: <span class="hljs-built_in">string</span></span>) =&gt;</span> (<br>    &#123; message: <span class="hljs-string">`<span class="hljs-subst">$&#123;username&#125;</span>: <span class="hljs-subst">$&#123;message || 'Empty!'&#125;</span>`</span> &#125;<br>  ),<br>  <span class="hljs-function">(<span class="hljs-params">username: <span class="hljs-built_in">string</span>, message?: <span class="hljs-built_in">string</span></span>) =&gt;</span> (<br>    &#123; username, message &#125;<br>  )<br>);<br><span class="hljs-comment">// resulting type:</span><br><span class="hljs-comment">// (...args: any[]) =&gt; &#123;</span><br><span class="hljs-comment">//   type: string;</span><br><span class="hljs-comment">//   payload: &#123; message: string; &#125; | undefined;</span><br><span class="hljs-comment">//   meta: &#123; username: string; message: string | undefined; &#125;;</span><br><span class="hljs-comment">//   error: boolean | undefined;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>this time we got a completely broken arguments arity with no type-safety because of <code>any</code> type with all the earlier issues</p></blockquote><h5 id="typesafe-actions-2"><a href="#typesafe-actions-2" class="headerlink" title="typesafe-actions"></a>typesafe-actions</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">/**<br> * typesafe-actions<br> */</span><br><span class="hljs-keyword">const</span> notify3 = <span class="hljs-function">(<span class="hljs-params">username: <span class="hljs-built_in">string</span>, message?: <span class="hljs-built_in">string</span></span>) =&gt;</span> action(<br>  <span class="hljs-string">'NOTIFY'</span>,<br>  &#123; message: <span class="hljs-string">`<span class="hljs-subst">$&#123;username&#125;</span>: <span class="hljs-subst">$&#123;message || 'Empty!'&#125;</span>`</span> &#125;,<br>  &#123; username, message &#125;,<br>);<br><span class="hljs-comment">// resulting type:</span><br><span class="hljs-comment">// (username: string, message?: string | undefined) =&gt; &#123;</span><br><span class="hljs-comment">//   type: "NOTIFY";</span><br><span class="hljs-comment">//   payload: &#123; message: string; &#125;;</span><br><span class="hljs-comment">//   meta: &#123; username: string; message: string | undefined; &#125;;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure><blockquote><p><code>typesafe-actions</code> never fail to <code>any</code> type, even with this advanced scenario all types are correct and provide complete type-safety and excellent developer experience </p></blockquote><p><a href="#table-of-contents">⇧ back to top</a></p><hr><h2 id="MIT-License"><a href="#MIT-License" class="headerlink" title="MIT License"></a>MIT License</h2><p>Copyright (c) 2017 Piotr Witek <a href="mailto:&#x70;&#105;&#111;&#116;&#114;&#101;&#x6b;&#46;&#119;&#x69;&#116;&#101;&#107;&#x40;&#103;&#109;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#111;&#x6d;" target="_blank" rel="noopener">&#x70;&#105;&#111;&#116;&#114;&#101;&#x6b;&#46;&#119;&#x69;&#116;&#101;&#107;&#x40;&#103;&#109;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#111;&#x6d;</a> (<a href="http://piotrwitek.github.io" target="_blank" rel="noopener">http://piotrwitek.github.io</a>)</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> redux </tag>
            
            <tag> typescript </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>构建electron、typescript、react、antd应用</title>
      <link href="/2019/06/14/cjxzvzao7001qmsu90knea9p3/"/>
      <url>/2019/06/14/cjxzvzao7001qmsu90knea9p3/</url>
      
        <content type="html"><![CDATA[<blockquote><p>这个研究了很旧，还没研究透，先记录，以免忘记</p></blockquote><a id="more"></a><h2 id="1-初始化react项目"><a href="#1-初始化react项目" class="headerlink" title="1. 初始化react项目"></a>1. 初始化react项目</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">create-react-app demo --typescript<br></code></pre></td></tr></table></figure><h2 id="2-添加相关依赖-表如下"><a href="#2-添加相关依赖-表如下" class="headerlink" title="2. 添加相关依赖, 表如下"></a>2. 添加相关依赖, 表如下</h2><table><thead><tr><th>包名</th><th>介绍</th><th>安装方式</th></tr></thead><tbody><tr><td><a href="https://electronjs.org/" target="_blank" rel="noopener">electron</a></td><td>关键包，构建electron应用必须</td><td>-D</td></tr><tr><td><a href="https://github.com/mackyle/sqlite" target="_blank" rel="noopener">sqlite3</a></td><td>数据库支持，需要存储数据的话，推荐这个</td><td>-P</td></tr><tr><td><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener">antd</a></td><td>蚂蚁金服提供的React框架</td><td>-P</td></tr><tr><td><a href="https://github.com/ReactTraining/react-router" target="_blank" rel="noopener">react-router-dom</a></td><td>提供路由支持</td><td>-P</td></tr><tr><td><a href="https://github.com/typeorm/typeorm" target="_blank" rel="noopener">typeorm</a></td><td>适用于Typescript的ORM支持</td><td>-P</td></tr><tr><td><a href="https://github.com/tealeg/xlsx" target="_blank" rel="noopener">xlsx</a></td><td>读取excel文件，也可以创建excel文件</td><td>-P</td></tr><tr><td><a href="https://github.com/sail-sail/ejsExcel" target="_blank" rel="noopener">ejsexcel</a></td><td>通过模板的方式生成excel文件</td><td>-P</td></tr><tr><td><a href="https://github.com/sindresorhus/electron-is-dev" target="_blank" rel="noopener">electron-is-dev</a></td><td>用于在逻辑中判断当前是否开发模式，因为打包后一些路径会变，<br>这个可以判断当前是否打包以便选择路径</td><td>-P</td></tr><tr><td><a href="https://github.com/megahertz/electron-log" target="_blank" rel="noopener">electron-log</a></td><td>日志支持</td><td>-P</td></tr><tr><td><a href="https://github.com/ashtuchkin/iconv-lite" target="_blank" rel="noopener">iconv-lite</a></td><td>添加更多编码支持，window蛋疼的不使用utf-8，<br>node又不支持GBK，所以需要这个</td><td>-P</td></tr><tr><td><a href="https://github.com/lodash/lodash" target="_blank" rel="noopener">lodash</a></td><td>著名的javascript工具库</td><td>-P</td></tr><tr><td><a href="https://github.com/moment/moment" target="_blank" rel="noopener">moment</a></td><td>时间处理库</td><td>-P</td></tr><tr><td><a href="https://github.com/timarney/react-app-rewired" target="_blank" rel="noopener">react-app-rewired</a></td><td>因为<code>create-react-app</code>的配置文件都是不对外透明的，<br>这个可以让<code>create-react-app</code> 加载的时候，额外对现有配置进行修改</td><td>-D</td></tr><tr><td><a href="https://github.com/arackaf/customize-cra" target="_blank" rel="noopener">customize-cra</a></td><td>配合<code>react-app-rewired</code> 来使用，快速写一下配置</td><td>-D</td></tr><tr><td><a href="https://github.com/electron/electron-rebuild" target="_blank" rel="noopener">electron-rebuild</a></td><td>一些需要需要根据系统编译的库，比如 <code>sqlite3</code> 如果直接安装会出现不兼容问题，<br>然后就会死活找不到这个库，通过这个可以根据现有的版本进行重新编译</td><td>-D</td></tr><tr><td><a href="https://github.com/electron-userland/electron-builder" target="_blank" rel="noopener">electron-builder</a></td><td>用于打包项目，生成安装包</td></tr></tbody></table><p>以上就是我这个项目用到的包，感谢 GitHub 这个开源平台，感觉包作者的大大们，谢谢！！！ :smile: </p><h2 id="3-配置项目需要的基础代码"><a href="#3-配置项目需要的基础代码" class="headerlink" title="3. 配置项目需要的基础代码"></a>3. 配置项目需要的基础代码</h2><ol><li>添加 <code>electron</code> 的入口文件 <code>/public/main.js</code> </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// Modules to control application life and create native browser window</span><br><span class="hljs-keyword">const</span> &#123; app, BrowserWindow, ipcMain &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);<br><span class="hljs-keyword">const</span> isDev = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron-is-dev'</span>)<br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)<br><span class="hljs-keyword">const</span> log = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron-log'</span>);<br><span class="hljs-comment">// Keep a global reference of the window object, if you don't, the window will</span><br><span class="hljs-comment">// be closed automatically when the JavaScript object is garbage collected.</span><br><span class="hljs-keyword">let</span> mainWindow;<br><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createWindow</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>    <span class="hljs-comment">// Create the browser window.</span><br>    mainWindow = <span class="hljs-keyword">new</span> BrowserWindow(&#123;<br>        <span class="hljs-attr">width</span>: <span class="hljs-number">1700</span>,<br>        <span class="hljs-attr">height</span>: <span class="hljs-number">1000</span>,<br>        <span class="hljs-attr">minHeight</span>: <span class="hljs-number">1000</span>,<br>        <span class="hljs-attr">minWidth</span>: <span class="hljs-number">1700</span>,<br>        <span class="hljs-attr">webPreferences</span>: &#123;<br>            <span class="hljs-attr">nodeIntegration</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">webSecurity</span>: <span class="hljs-literal">false</span>,<br>        &#125;,<br>        <span class="hljs-attr">autoHideMenuBar</span>: <span class="hljs-literal">true</span>,<br>    &#125;)<br><br>    <span class="hljs-comment">// 这里就是初始化的时候加载的页面，由于打包之后使用的是静态文件，开发时候使用的是服务器，所有这里要分开处理，electron-is-dev 库的重要性</span><br>    <span class="hljs-keyword">const</span> htmlUrl = <span class="hljs-string">`file://<span class="hljs-subst">$&#123;path.join(__dirname, <span class="hljs-string">'../build/index.html#login'</span>)&#125;</span>`</span>;<br>    <span class="hljs-keyword">const</span> url = isDev ? <span class="hljs-string">"http://127.0.0.1:3000#/login"</span> : htmlUrl;<br>    log.info(url);<br>    mainWindow.loadURL(url);<br>    <span class="hljs-comment">// 因为开发的时候 electron 虽然使用chrome内核，但是不没有任何chrmoe插件。开发React的时候最好有 React dev tools 插件，所以可以通过以下的方式来加载额外的插件，路径是插件安装在chrmoe的路径，有点难找，可以配合 Everything 来查找</span><br>    <span class="hljs-keyword">if</span> (isDev) &#123;<br>        BrowserWindow.addDevToolsExtension(<span class="hljs-string">'C:\\Users\\kirno\\AppData\\Local\\Google\\Chrome\\User Data\\Default\\Extensions\\fmkadmapgofadopljbjfkapdkoienihi\\3.6.0_0'</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// Open the DevTools.</span><br>    <span class="hljs-comment">// mainWindow.webContents.openDevTools()</span><br><br>    <span class="hljs-comment">// Emitted when the window is closed.</span><br>    mainWindow.on(<span class="hljs-string">'closed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-comment">// Dereference the window object, usually you would store windows</span><br>        <span class="hljs-comment">// in an array if your app supports multi windows, this is the time</span><br>        <span class="hljs-comment">// when you should delete the corresponding element.</span><br>        mainWindow = <span class="hljs-literal">null</span><br>    &#125;)<br><span class="hljs-comment">// 这里线程间通信用的，electron 主要分为 主线程（浏览器）和渲染线程 (网页) 的形式运行，有些事情在网页里是比较难实现，就可以通过这种方式让浏览器帮你做。下面是实现获取系统打印机列表的功能</span><br>    ipcMain.on(<span class="hljs-string">'obtainPrinterList'</span>, (event) =&gt; &#123;<br>        <span class="hljs-keyword">const</span> printers = mainWindow.webContents.getPrinters();<br>        mainWindow.webContents.send(<span class="hljs-string">'getPrinterList'</span>, printers);<br>    &#125;);<br>&#125;<br><br><span class="hljs-comment">// This method will be called when Electron has finished</span><br><span class="hljs-comment">// initialization and is ready to create browser windows.</span><br><span class="hljs-comment">// Some APIs can only be used after this event occurs.</span><br>app.on(<span class="hljs-string">'ready'</span>, createWindow)<br><br><span class="hljs-comment">// Quit when all windows are closed.</span><br>app.on(<span class="hljs-string">'window-all-closed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// On macOS it is common for applications and their menu bar</span><br>    <span class="hljs-comment">// to stay active until the user quits explicitly with Cmd + Q</span><br>    <span class="hljs-keyword">if</span> (process.platform !== <span class="hljs-string">'darwin'</span>) app.quit()<br>&#125;)<br><br>app.on(<span class="hljs-string">'activate'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// On macOS it's common to re-create a window in the app when the</span><br>    <span class="hljs-comment">// dock icon is clicked and there are no other windows open.</span><br>    <span class="hljs-keyword">if</span> (mainWindow === <span class="hljs-literal">null</span>) createWindow()<br>&#125;)<br><br><span class="hljs-comment">// In this file you can include the rest of your app's specific main process</span><br><span class="hljs-comment">// code. You can also put them in separate files and require them here.</span><br></code></pre></td></tr></table></figure><ol start="2"><li>在<code>package.json</code>文件中添加脚本，辅助开发，以下是节选内容</li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>"scripts": &#123;<br>        "ele": "electron .",<br>        "pub": "build --publish always",<br>        /* 重新编译 */<br>        "rebuild": "electron-rebuild",<br>        /* 开发运行 */<br>        "start": "react-app-rewired start",<br>        "build": "react-app-rewired build",<br>        "test": "react-app-rewired test",<br>        "eject": "react-scripts eject",<br>        "postinstall": "electron-builder install-app-deps",        <br>        "buil": "electron-builder install-app-deps",<br>        "preelectron-pack": "yarn build",<br>        /* 打包 */<br>        "electron-dist": "build -w",<br>        /* 打包，但不生成安装包文件 */<br>        "electron-pack": "electron-builder --dir",<br>        "release": "build"<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>接下来就可以进行开发了。以下记录几个问题</p><h2 id="typeorm-的问题"><a href="#typeorm-的问题" class="headerlink" title="typeorm 的问题"></a><code>typeorm</code> 的问题</h2><ol><li><p>无法找到 sqlite3 的包，原因可能有两个，一个是sqlite3直接安装后，和electron的版本不符合。可以通过 <code>electron-build</code> 库解决，重新编译即可；二是因为导入的方式不对，如果使用 </p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123;xxxx&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'typeorm'</span><br></code></pre></td></tr></table></figure><p>的话，由于设计到c这种第三方底层库，然而 <code>electron</code> 的渲染线程是没有办法访问这种底层代码的，所以导致无法<code>typrorm</code> 底层无法调用成功，所以这里要借助 <code>electron</code> 的函数 <code>require</code> 方法来引入，实际上就是让 electron 来帮我们导包。但是如果使用 <code>require</code> 的方法来导包，就会失去 <code>typescript</code> 的类型优势，以下是解决方法：</p><ol><li><p>新建一个 <code>libary.js</code> 文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> &#123; getConnection, getRepository &#125; = <span class="hljs-built_in">window</span>.require(<span class="hljs-string">'typeorm'</span>);<br><span class="hljs-built_in">module</span>.exports = &#123; getConnection, getRepository &#125;<br></code></pre></td></tr></table></figure></li><li><p>新建 <code>libary.d.ts</code> 文件</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">declare</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRepository</span>&lt;<span class="hljs-title">Entity</span>&gt;(<span class="hljs-params">entityClass: ObjectType&lt;Entity&gt; | EntitySchema&lt;Entity&gt; | <span class="hljs-built_in">string</span>, connectionName?: <span class="hljs-built_in">string</span></span>): <span class="hljs-title">Repository</span>&lt;<span class="hljs-title">Entity</span>&gt;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">declare</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getConnection</span>(<span class="hljs-params">connectionName?: <span class="hljs-built_in">string</span></span>): <span class="hljs-title">Connection</span></span>;<br></code></pre></td></tr></table></figure></li><li><p>再要使用的地方引入</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; getRepository, getConnection &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'../libary'</span>;<br></code></pre></td></tr></table></figure></li></ol><p>即可，这里制作了两个常用方法的实例，其他方法也是这样引如。这样就不会丢失 类型。这个方法同样适用于引入 electron 对象。</p></li><li><p>打包问题，由于<code>webpack</code>会把所有引入的文件都进行打包，然而<code>typeorm</code>因为 要兼容多种数据库，所以底层会引入多中数据库的包，但是因为我们只用一种数据，其他的没有，所以打包的时候会报错。解决办法就是让 <code>webpack</code>不要打包那些多余没用到的库，在实际要用的时候再引入。</p><ol><li><p>由于 <code>create-react-app</code>的配置文件是赢藏的，所以通过 <a href="https://github.com/timarney/react-app-rewired" target="_blank" rel="noopener">react-app-rewired</a> 和 <a href="https://github.com/arackaf/customize-cra" target="_blank" rel="noopener">customize-cra</a> 配合修改，新建 <code>/config-overrides.js</code> 文件，以下还提到了两种打包目标模式，具体可以去<code>webpack</code>官网查看</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> &#123; addLessLoader, override, addWebpackExternals, fixBabelImports &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">'customize-cra'</span>);<br><span class="hljs-built_in">module</span>.exports = &#123;<br>    <span class="hljs-attr">webpack</span>: override(<br>        <span class="hljs-comment">// 添加less支持</span><br>        addLessLoader(&#123;<br>            <span class="hljs-attr">javascriptEnabled</span>: <span class="hljs-literal">true</span>,<br>        &#125;),<br>        <span class="hljs-comment">// 重点： 取消不必要的库的打包</span><br>        addWebpackExternals(&#123;<br>            <span class="hljs-string">'pg'</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-string">'pg-hstore'</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-string">'mysql2'</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-string">'react-native-sqlite-storage'</span>: <span class="hljs-literal">true</span>,<br>        &#125;),<br>        <span class="hljs-comment">// 客户端使用 electron-renderer方式渲染</span><br>        (config) =&gt; &#123;<br>            config.target = <span class="hljs-string">"electron-renderer"</span>;<br>            <span class="hljs-keyword">return</span> config;<br>        &#125;,<br>        (config) =&gt; &#123;<br>            config.optimization.minimize = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">return</span> config;<br>        &#125;,<br>    ),<br>    <span class="hljs-comment">// 服务端使用 electron-main方式渲染</span><br>    devServer: <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> &#123;<br>        config.target = <span class="hljs-string">"electron-main"</span>;<br>        <span class="hljs-keyword">return</span> config;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol></li></ol><h2 id="路径问题"><a href="#路径问题" class="headerlink" title="路径问题"></a>路径问题</h2><p>由于打包版本和开发版本存在路径差异，所以需要引入 <code>electron-is-dev</code>包来判断当前的环境。</p><p>数据存储路径建议放大 <code>electron.app.getAppPath()</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> electron </tag>
            
            <tag> typescript </tag>
            
            <tag> react </tag>
            
            <tag> antd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2019/01/27/cjxzvzagc000nmsu97v2r28ek/"/>
      <url>/2019/01/27/cjxzvzagc000nmsu97v2r28ek/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">"My New Post"</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>2018-11-04日记</title>
      <link href="/2018/11/05/cjxzvzafy000bmsu9dpxqqhgj/"/>
      <url>/2018/11/05/cjxzvzafy000bmsu9dpxqqhgj/</url>
      
        <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Welcome to my blog, ener password to read." />    <label for="pass">Welcome to my blog, ener password to read.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-11-03日记</title>
      <link href="/2018/11/05/cjxzvzafw0009msu9po5semod/"/>
      <url>/2018/11/05/cjxzvzafw0009msu9po5semod/</url>
      
        <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Welcome to my blog, ener password to read." />    <label for="pass">Welcome to my blog, ener password to read.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-11-02日记</title>
      <link href="/2018/11/02/cjxzvzaft0006msu96fbtc1ej/"/>
      <url>/2018/11/02/cjxzvzaft0006msu96fbtc1ej/</url>
      
        <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Welcome to my blog, ener password to read." />    <label for="pass">Welcome to my blog, ener password to read.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-11-01日记</title>
      <link href="/2018/11/01/cjxzvzafr0005msu9xatk22eu/"/>
      <url>/2018/11/01/cjxzvzafr0005msu9xatk22eu/</url>
      
        <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Welcome to my blog, ener password to read." />    <label for="pass">Welcome to my blog, ener password to read.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-10-31日记</title>
      <link href="/2018/11/01/cjxzvzafp0004msu93g2vkld7/"/>
      <url>/2018/11/01/cjxzvzafp0004msu93g2vkld7/</url>
      
        <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Welcome to my blog, ener password to read." />    <label for="pass">Welcome to my blog, ener password to read.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-10-29日记</title>
      <link href="/2018/10/30/cjxzvzafh0001msu9ktlgftwu/"/>
      <url>/2018/10/30/cjxzvzafh0001msu9ktlgftwu/</url>
      
        <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Welcome to my blog, ener password to read." />    <label for="pass">Welcome to my blog, ener password to read.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-10-30日记</title>
      <link href="/2018/10/30/cjxzvzafl0002msu926ok6zvd/"/>
      <url>/2018/10/30/cjxzvzafl0002msu926ok6zvd/</url>
      
        <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Welcome to my blog, ener password to read." />    <label for="pass">Welcome to my blog, ener password to read.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dnsCheck</title>
      <link href="/2018/07/10/cjxzvzag7000gmsu91b6eqir3/"/>
      <url>/2018/07/10/cjxzvzag7000gmsu91b6eqir3/</url>
      
        <content type="html"><![CDATA[<p>使用dig命令进行检测。<br>运行 dig 主机记录命令进行检测或者运行 dig 主机记录 @8.8.8.8命令指定使用谷歌DNS进行验证。例如， dig txt b.aliyuntest.com @8.8.8.8。<br><img src="http://oepv0v7je.bkt.clouddn.com/18-7-10/92556404.jpg" alt><br>如果返回结果中存在类似图示中的TXT记录，且记录值与订单进度页面中的记录值一致，表示您的DNS配置正确且已生效；如果记录值不同，请按照订单进度页面中的记录值在DNS域名解析服务商处更新该验证记录。<br>如果返回结果中不存在TXT记录，可能是DNS配置有误或者配置未生效。如配置错误，请按照订单进度页面中的配置要求在DNS域名解析服务商处重新配置；如果配置长时间未生效，请联系域名托管商。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux常用命令</title>
      <link href="/2018/07/02/cjxzvzagg000rmsu9rvp5qj53/"/>
      <url>/2018/07/02/cjxzvzagg000rmsu9rvp5qj53/</url>
      
        <content type="html"><![CDATA[<ol><li>查看apt-get下载的软件的位置</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>gitlab安装教程</title>
      <link href="/2018/06/28/cjxzvzao3001omsu9ni57c7sr/"/>
      <url>/2018/06/28/cjxzvzao3001omsu9ni57c7sr/</url>
      
        <content type="html"><![CDATA[<blockquote><p>这是一片关于GitLab的安装教程以及踩过的坑</p></blockquote><p>浪费了一个下午的时间，终于把Gitlab搭建完成，搭建环境如下：</p><ul><li><p>系统（虚拟机）</p><p>  Distributor ID:    Ubuntu</p><p>  Description:    Ubuntu 18.04 LTS</p><p>  Release:    18.04</p><p>  Codename:    bionic</p></li><li><p>gitlab V11.0.1</p></li></ul><a id="more"></a><h2 id="安装Gitlab"><a href="#安装Gitlab" class="headerlink" title="安装Gitlab"></a>安装Gitlab</h2><p>这里有一个问题，gitlab官方源太慢了，一个gitlab安装包要<code>500M+</code>如果直接下载，很容易挂掉，或者等很久，所以这里要替换源。不过似乎在阿里云上搭载的话，会很快，不用更换。</p><p>这里推荐 <a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener">清华大学开源软件镜像站</a> 里面有不少的镜像源，其中就包括了gitlab的。</p><p>具体地址是</p><pre><code>deb http://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/ubuntu bionic main</code></pre><blockquote><p>注意其中 <code>bionic</code> 是系统代号，比如我的ubuntu 18 代号就是 <code>bionic</code> 其他的系统可以使用 <code>lsb_relase</code> 命令自行查询。</p></blockquote><p><strong>使用方法</strong> <a href="https://mirrors.tuna.tsinghua.edu.cn/help/gitlab-ce/" target="_blank" rel="noopener">参考</a></p><ol><li><p>信任 GitLab 的 GPG 公钥:</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">curl https://packages.gitlab.com/gpg.key 2&gt; /dev/null | sudo apt-key add - &amp;&gt;/dev/null<br></code></pre></td></tr></table></figure></li><li><p>设置源</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /etc/apt/sources.list.d<br>vim gitlab-ce.list<br></code></pre></td></tr></table></figure></li><li><p>编辑gitlab-ce.list 输入以下内容</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">deb https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/ubuntu/ bionic main<br></code></pre></td></tr></table></figure></li><li><p>更新并安装</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get update<br>sudo apt-get install gitlab-ce<br></code></pre></td></tr></table></figure></li><li><p>配置gitlab</p><p> 由于gitlab要用到域名，所以需要准备好域名。由于我是用虚拟机搭建，所以公共域名用不了，所以我就自己搭建了一个域名服务。可以参考可选步骤，搭建私有DNS服务器。</p><p> 配置文件是 <code>/etc/gitlab/gitlab.rb</code> 文件，因为文件内容过多，就简单的把会用到的配置列出来</p><ol><li><p>域名，这个设计到了gitlab系统自动生成的链接，所以必须修改为<strong>自己的域名</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs undefined"># external_url &apos;http://gitlab.explme.com&apos;<br>external_url &apos;http://kirno.com&apos;<br></code></pre></td></tr></table></figure></li><li><p>配置时区，由于默认是UTC，导致使用的时候时间不正确，所以需要修改为本地的时区</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs undefined"># gitlab_rails[&apos;time_zone&apos;] = &apos;UTC&apos;<br>gitlab_rails[&apos;time_zone&apos;] = &apos;Asia/Shanghai&apos;<br></code></pre></td></tr></table></figure></li><li><p>邮件，由于gitlab会通过邮箱找回密码或者认证，所以需要配置。原本是使用系统自己的邮件系统，但是我不会配置，所以就是用了QQ邮箱作为发送方</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs undefined">gitlab_rails[&apos;smtp_enable&apos;] = true<br>gitlab_rails[&apos;smtp_address&apos;] = &quot;smtp.qq.com&quot;<br>gitlab_rails[&apos;smtp_port&apos;] = 465<br># 发送方的邮箱完整地址 xx@qq.com<br>gitlab_rails[&apos;smtp_user_name&apos;] = &quot;XXX&quot;<br># 这里是发送方的QQ邮箱地址，也就是和上面的一样<br>gitlab_rails[&apos;gitlab_email_from&apos;] = &apos;XXX&apos;<br># 密码，注意这里要使用QQ邮箱的 授权码 不是密码，可以在设置，账户处找到<br>gitlab_rails[&apos;smtp_password&apos;] = &quot;xxx&quot;    <br>gitlab_rails[&apos;smtp_domain&apos;] = &quot;smtp.qq.com&quot;<br>gitlab_rails[&apos;smtp_authentication&apos;] = &quot;login&quot;<br>gitlab_rails[&apos;smtp_enable_starttls_auto&apos;] = true<br>gitlab_rails[&apos;smtp_tls&apos;] = true<br></code></pre></td></tr></table></figure></li></ol></li></ol><p>配置完成后初始化 gitlab 时间比较久</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gitlab-ctl reconfigure<br></code></pre></td></tr></table></figure><p>可以通过以下命令测试邮件</p><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 进入控制台</span><br>gitlab-rails console<br><span class="hljs-comment"># 发送邮件</span><br>Notify.test_email(<span class="hljs-string">"收件人邮箱"</span>, <span class="hljs-string">"标题"</span>, <span class="hljs-string">"内容"</span>).deliver_now<br></code></pre></td></tr></table></figure></code></pre><p>然后就可以在浏览器通过域名访问了</p><h2 id="汉化教程"><a href="#汉化教程" class="headerlink" title="汉化教程"></a>汉化教程</h2><p>默认的gitlab是英文，可以选择进行汉化，不过其实汉化并不完整。</p><ol><li><p><a href="https://gitlab.com/xhang/gitlab/tags" target="_blank" rel="noopener">下载汉化文件</a> 文件比较大在 48m+ 左右，而且下载比较慢，所以建议下载完拉上服务器。</p><blockquote><p>一定要注意版本，已安装的gitlab版本可以通过 <code>cat /opt/gitlab/embedded/service/gitlab-rails/VERSION</code> 命令查看</p></blockquote></li><li><p>下载完之后解压，通过 <code>cat gitlab/VERSION</code> 查看是版本是否匹配，如果版本不匹配可能会导致gitlab崩溃，所以小心</p></li><li><p>停止gitlab</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">gitlab-ctl stop<br></code></pre></td></tr></table></figure><ol start="3"><li>覆盖 </li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cp -rf gitlab/* /opt/gitlab/embedded/service/gitlab-rails/<br></code></pre></td></tr></table></figure><ol start="4"><li>重新配置gitlab并启动它</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gitlab-ctl reconfigure<br>gitlab-ctl restart<br></code></pre></td></tr></table></figure><h2 id="使用现有的Nginx作为服务器"><a href="#使用现有的Nginx作为服务器" class="headerlink" title="使用现有的Nginx作为服务器"></a>使用现有的Nginx作为服务器</h2><p>这个地方巨坑，真的是巨坑，被卡在这里太久了😭。<br>首先通过apt-get或者从官网下载的nginx，如果没有注意的话都不行，因为他们默认都不支持 <code>Passenger</code> 这是个巨坑啊，多少次因为这个摔鼠标了🖱️。虽然网上有教程通过 passenger-install-nginx-modules 的方式来重新安装nginx，但是这个的编译过程贼慢，我的双核4g云服务器完全卡死在这了，所以不推荐。还有的办法就是通过利用 <code>nginx 1.9</code> 以上的版本的动态模块加载功能来实现。</p><ol><li>安装 <code>ruby</code> 没办法，passenger依赖 <code>ruby</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install ruby<br></code></pre></td></tr></table></figure><ol start="2"><li>安装 <code>passenger</code> 安装这个东西最好换源，否则巨慢</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">换源</span><br>gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/<br><span class="hljs-meta">$</span><span class="bash"> gem sources -l</span><br>https://gems.ruby-china.com<br><span class="hljs-meta">#</span><span class="bash"> 确保只有 gems.ruby-china.com</span><br><span class="hljs-meta"><br>#</span><span class="bash">安装</span><br>gem install passenger<br></code></pre></td></tr></table></figure><ol start="3"><li>下载nginx源码，编译模块，<a href="https://www.phusionpassenger.com/library/install/nginx/install_as_nginx_module.html" target="_blank" rel="noopener">参考</a></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /path-to-nginx-source-dir<br>./configure --prefix=/opt/nginx \<br>  --add-dynamic-module=$(passenger-config --nginx-addon-dir) \<br>  --add-module=/path-to-some-other-nginx-module<br>make<br>sudo make install<br></code></pre></td></tr></table></figure><ol start="4"><li>配置现有的nginx的配置文件 <code>nginx.conf</code>, 添加</li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs nginx">#user  nobody;<br>worker_processes  1;<br><br>#============重点================================<br>load_module modules/ngx_http_passenger_module.so;<br>#===============================================<br><br>events &#123;<br>    worker_connections  1024;<br>&#125;<br><br><br>http &#123;<br>    include       mime.types;<br>    default_type  application/octet-stream;<br><br>    #============重点===如果忘记passenger的目录了，可以通过 passenger-config --root 指令来获取=============================<br>    passenger_root /var/lib/gems/2.3.0/gems/passenger-5.3.3;<br>    #===============================================<br><br>    sendfile        on;<br><br>    keepalive_timeout  65;<br>    ...<br></code></pre></td></tr></table></figure><ol start="5"><li>重中之重，这里最坑，配置了好了<code>nginx</code>之后报了一个奇葩🤮的错误</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">2018/07/10 10:44:19 [crit] 28138#0: *3739 connect() to unix:/tmp/passenger.uPSo3Mj/agents.s/core failed (2: No such file or directory) while connecting to upstream, client: 119.127.17.115, server: xxx, request: &quot;GET / HTTP/1.1&quot;, upstream: &quot;passenger:unix:/tmp/passenger.uPSo3Mj/agents.s/core:&quot;, host: &quot;xxx&quot;<br></code></pre></td></tr></table></figure><p>这个地方浪费了我一个下午加半个早上🌞，多次想放弃，网上还找不到资料。其实解决也很简单，就是重启nginx，不能简单的<code>nginx -s reload</code> 或者 <code>nginx -s reopen</code> 的重启，没有效果的，必须要先 <code>kill</code> 了nginx的进程然后再重新运行 <code>nginx</code> 才行😭。为了解决这个问题，我重装了gitlab，各种百度，谷歌，差点就去看gitlab源码了😭。手抖重启ngxin后成功看到<code>/tmp</code>下创建<code>passenger.xxx</code>文件，太开心了。然后刷新页面果然成功</p><ol start="6"><li>一定要记住配置 <code>passenger_root /var/lib/gems/2.3.0/gems/passenger-5.3.3;</code> 否则也会出现403错误</li></ol><p><img src="http://oepv0v7je.bkt.clouddn.com/18-7-10/20173328.jpg" alt="成功图"></p><h2 id="可选-搭建私有DNS服务器"><a href="#可选-搭建私有DNS服务器" class="headerlink" title="(可选)搭建私有DNS服务器"></a>(可选)搭建私有DNS服务器</h2><p>网上基本都是 <code>bind9</code> 的教程，所以我也就使用它来搭建。</p><p>首先安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get install bind9<br></code></pre></td></tr></table></figure><p>安装了之后，有几个路径需要了解</p><ul><li>/etc/bind 用于存放主要的配置文件</li><li>/var/cache/bind 用于存放域名相关的配置文件</li></ul><p>比如我要创建一个 <code>kirno.com</code> 的域名</p><p>首先编辑 <code>/etc/bind/named.conf.local</code> 文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs undefined">// 这里的 kirno.com 就是想要创建的域名<br>zone &quot;kirno.com&quot; &#123;    <br>    type master;<br><br>    // 这个对应着 /var/cache/bind 里面的解析配置文件的名字<br>    file &quot;db.kirno.com&quot;;<br>&#125;;<br></code></pre></td></tr></table></figure><p>然后把 <code>/etc/bind</code> 目录下的解析配置模板 <code>db.local</code> 复制到 <code>/var/cache/bind</code> 里面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cp /etc/<span class="hljs-built_in">bind</span>/db.local.com /var/cache/<span class="hljs-built_in">bind</span>/db.kirno.com<br></code></pre></td></tr></table></figure><p>编辑 <code>/var/cache/bind/db.kirno.com</code> 把其中的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">@INA127.0.0.1<br></code></pre></td></tr></table></figure><p>改为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">@INA192.168.2.100<br></code></pre></td></tr></table></figure><blockquote><p>其中 <code>192.168.2.100</code> 是你想解析的域名对应着的ip</p></blockquote><p>最后编辑 <code>/etc/bind/named.conf.options</code> 文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs undefined">options &#123;<br>directory &quot;/var/cache/bind&quot;;<br><br>// If there is a firewall between you and nameservers you want<br>// to talk to, you may need to fix the firewall to allow multiple<br>// ports to talk.  See http://www.kb.cert.org/vuls/id/800113<br><br>// If your ISP provided one or more IP addresses for stable <br>// nameservers, you probably want to use them as forwarders.  <br>// Uncomment the following block, and insert the addresses replacing <br>// the all-0&apos;s placeholder.<br><br>forwarders &#123;<br> 223.5.5.5;<br>&#125;;<br><br>//========================================================================<br>// If BIND logs error messages about the root key being expired,<br>// you will need to update your keys.  See https://www.isc.org/bind-keys<br>//========================================================================<br>dnssec-validation auto;<br><br>auth-nxdomain no;    # conform to RFC1035<br>listen-on-v6 &#123; any; &#125;;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>其中 <code>223.5.5.5</code> 是阿里云的DNS，这里的意思其实是如果本地找不到相应的域名，就会交给第三方DNS服务器处理,所以改成任意的可使用的第三方域名服务器即可。</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> gitlab </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bt搜索脚本</title>
      <link href="/2018/06/19/cjxzvzag9000jmsu9081fzymz/"/>
      <url>/2018/06/19/cjxzvzag9000jmsu9081fzymz/</url>
      
        <content type="html"><![CDATA[<h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><pre><code class="javascript">javascript:pachong();<span class="function"><span class="keyword">function</span> <span class="title">pachong</span>(<span class="params"></span>) </span>{<span class="keyword">var</span> currentUrl = location.href;<span class="keyword">if</span> (currentUrl.indexOf(<span class="string">"http://sdkcloud.pro/"</span>) == <span class="number">-1</span>) {<span class="keyword">var</span> query = prompt(<span class="string">"请输入想要搜索的资源关键字"</span>);<span class="keyword">if</span>(query.trim()){<span class="keyword">var</span> sdkUrl = <span class="string">"http://sdkcloud.pro/xfs.php?s="</span>+query;location.href = sdkUrl;}} <span class="keyword">else</span> {addBtn();}}<span class="function"><span class="keyword">function</span> <span class="title">addBtn</span>(<span class="params"></span>)</span>{<span class="keyword">var</span> list = <span class="built_in">document</span>.querySelectorAll(<span class="string">".T1 a"</span>);list.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>{<span class="keyword">var</span> l = item.href;<span class="keyword">var</span> mag = l.substring(<span class="number">20</span>, l.length);<span class="keyword">var</span> url =  <span class="string">"https://apiv.ga/magnet/"</span>+mag;<span class="keyword">var</span> btn = <span class="string">"&lt;a style='margin-left:5px;text-decoration:none;border:1px solid #efefef;border-radius:4px;font-size:15px;padding:5px' href='"</span>+url+<span class="string">"' target='view_window'&gt;%E6%92%AD%E6%94%BE&lt;/a&gt;"</span>;item.innerHTML = item.innerHTML + btn;});}</code></pre><a id="more"></a><p>准备，</p><p>创建收藏夹，然后名字随便填写，网址填入上述脚本即可</p><p>chrome:</p><ol><li>打开书签管理器 <code>alt+ctr+B</code></li><li>添加网址</li><li>按照下图填写<br><img src="http://i4.buimg.com/567571/cbc2cc2efe423ace.png" alt></li></ol><p>其它浏览器类似，反正就是加入到收藏夹就可以了</p><p>使用方法</p><p>在任意网页点击，输入想要观看的资源，也可以是帮助协和社会更加和谐的资源</p><p><img src="http://i2.buimg.com/567571/056c5bde613f7c07.png" alt></p><p>然后会跳转到资源页面，在资源页面再点击一次</p><p><img src="http://i2.buimg.com/567571/a4b0f5a147a6c273.png" alt></p><p>点击播放即可</p><p><img src="http://i2.buimg.com/567571/4e3701e0b54b1d0e.png" alt></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>通过源码来编译nginx</title>
      <link href="/2018/06/19/cjxzvzagk000umsu92gbsllii/"/>
      <url>/2018/06/19/cjxzvzagk000umsu92gbsllii/</url>
      
        <content type="html"><![CDATA[<p>使用配置参数进行编译。它定义了系统的各个方面,包含了nginx所允许的链接方法。配置后会生成一个 <code>Makefile</code> 文件. 以下是配置支持的参数:</p><p><code>--prefix=path</code> — 定义一个用于保存服务器的目录 This same directory will also be used for all relative paths set by configure (except for paths to libraries sources) and in the nginx.conf configuration file. It is set to the /usr/local/nginx directory by default.</p><p>–sbin-path=path — sets the name of an nginx executable file. This name is used only during installation. By default the file is named prefix/sbin/nginx.</p><p>–conf-path=path — sets the name of an nginx.conf configuration file. If needs be, nginx can always be started with a different configuration file, by specifying it in the command-line parameter -c file. By default the file is named prefix/conf/nginx.conf.<br><a id="more"></a><br>–pid-path=path — sets the name of an nginx.pid file that will store the process ID of the main process. After installation, the file name can always be changed in the nginx.conf configuration file using the pid directive. By default the file is named prefix/logs/nginx.pid.</p><p>–error-log-path=path — sets the name of the primary error, warnings, and diagnostic file. After installation, the file name can always be changed in the nginx.conf configuration file using the error_log directive. By default the file is named prefix/logs/error.log.</p><p>–http-log-path=path — sets the name of the primary request log file of the HTTP server. After installation, the file name can always be changed in the nginx.conf configuration file using the access_log directive. By default the file is named prefix/logs/access.log.</p><p>–build=name — sets an optional nginx build name.</p><p>–user=name — sets the name of an unprivileged user whose credentials will be used by worker processes. After installation, the name can always be changed in the nginx.conf configuration file using the user directive. The default user name is nobody.</p><p>–group=name — sets the name of a group whose credentials will be used by worker processes. After installation, the name can always be changed in the nginx.conf configuration file using the user directive. By default, a group name is set to the name of an unprivileged user.</p><p>–with-select_module<br>–without-select_module — enables or disables building a module that allows the server to work with the select() method. This module is built automatically if the platform does not appear to support more appropriate methods such as kqueue, epoll, or /dev/poll.</p><p>–with-poll_module<br>–without-poll_module — enables or disables building a module that allows the server to work with the poll() method. This module is built automatically if the platform does not appear to support more appropriate methods such as kqueue, epoll, or /dev/poll.</p><p>–without-http_gzip_module — disables building a module that compresses responses of an HTTP server. The zlib library is required to build and run this module.</p><p>–without-http_rewrite_module — disables building a module that allows an HTTP server to redirect requests and change URI of requests. The PCRE library is required to build and run this module.</p><p>–without-http_proxy_module — disables building an HTTP server proxying module.</p><p>–with-http_ssl_module — enables building a module that adds the HTTPS protocol support to an HTTP server. This module is not built by default. The OpenSSL library is required to build and run this module.</p><p>–with-pcre=path — sets the path to the sources of the PCRE library. The library distribution (version 4.4 — 8.40) needs to be downloaded from the PCRE site and extracted. The rest is done by nginx’s ./configure and make. The library is required for regular expressions support in the location directive and for the ngx_http_rewrite_module module.</p><p>–with-pcre-jit — builds the PCRE library with “just-in-time compilation” support (1.1.12, the pcre_jit directive).</p><p>–with-zlib=path — sets the path to the sources of the zlib library. The library distribution (version 1.1.3 — 1.2.11) needs to be downloaded from the zlib site and extracted. The rest is done by nginx’s ./configure and make. The library is required for the ngx_http_gzip_module module.</p><p>–with-cc-opt=parameters — sets additional parameters that will be added to the CFLAGS variable. When using the system PCRE library under FreeBSD, –with-cc-opt=”-I /usr/local/include” should be specified. If the number of files supported by select() needs to be increased it can also be specified here such as this: –with-cc-opt=”-D FD_SETSIZE=2048”.</p><p>–with-ld-opt=parameters — sets additional parameters that will be used during linking. When using the system PCRE library under FreeBSD, –with-ld-opt=”-L /usr/local/lib” should be specified.</p><p>Example of parameters usage (all of this needs to be typed in one line):</p><p>./configure<br>    –sbin-path=/usr/local/nginx/nginx<br>    –conf-path=/usr/local/nginx/nginx.conf<br>    –pid-path=/usr/local/nginx/nginx.pid<br>    –with-http_ssl_module<br>    –with-pcre=../pcre-8.40<br>    –with-zlib=../zlib-1.2.11<br>After configuration, nginx is compiled and installed using make.</p><p>./configure \<br>–prefix=/etc/nginx \<br>–add-dynamic-module=$(passenger-config –nginx-addon-dir) \<br>–with-openssl=/home/kirno/download/openssl-1.0.2o \<br>–with-pcre=/home/kirno/download/pcre-8.42 \<br>–with-zlib=/home/kirno/download/zlib-1.2.11 \<br>–with-http_ssl_module \<br>–with-threads \<br>–with-debug \<br>–with-http_v2_module</p>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> 编译 </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PL2303HX 的驱动安装</title>
      <link href="/2018/06/19/cjxzvzag5000emsu9mmz4b5f0/"/>
      <url>/2018/06/19/cjxzvzag5000emsu9mmz4b5f0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>由于官方不再支持PL2303HX,所以就没有了win10上可用的官方驱动.有一个应该是民间高手的人补充了这个空白</p></blockquote><p><a href="http://www.ifamilysoftware.com/news37.html" target="_blank" rel="noopener">官网下载</a></p><p><a href="https://pan.baidu.com/s/1N33jAnw1XGreeLBNxHSpSA" target="_blank" rel="noopener">百度备份下载</a> 密码: t65v</p><p>下载完之后安装就可以了</p>]]></content>
      
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>node 远程调试</title>
      <link href="/2018/06/19/cjxzvzagl000vmsu9wx3gmqfj/"/>
      <url>/2018/06/19/cjxzvzagl000vmsu9wx3gmqfj/</url>
      
        <content type="html"><![CDATA[<ol><li><p>进入项目根目录，假如启动个文件在 <code>./bin/www</code> 这里。</p></li><li><p>命令</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">node --inspect=0.0.0.0:3001 bin/www<br></code></pre></td></tr></table></figure><p> 其中 <code>0.0.0.0</code> 表示监听的Ip地址，全0 表示任意地方可以访问。3001 是访问端口 bin/www 就是程序的启动文件</p><a id="more"></a></li><li><p>打开 Chrome 输入地址 <code>chrome://inspect</code> </p><p> <img src="http://oepv0v7je.bkt.clouddn.com/18-3-9/66188112.jpg" alt></p><p> 选择 <code>Configure</code> 在弹出来的窗口输入 远程服务器的 IP 和 端口 然后 点击 <code>Done</code> 就可以了</p></li><li><p>等待以下出现</p><p> <img src="http://oepv0v7je.bkt.clouddn.com/18-3-9/2925952.jpg" alt></p><p> 点击 <code>inspect</code> 即可开始调试</p></li><li><p>进入 <code>source</code> 界面就可以断点了</p><p> <img src="http://oepv0v7je.bkt.clouddn.com/18-3-9/2879619.jpg" alt></p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitHub库整理</title>
      <link href="/2018/06/19/cjxzvzagb000lmsu92hp4og5d/"/>
      <url>/2018/06/19/cjxzvzagb000lmsu92hp4og5d/</url>
      
        <content type="html"><![CDATA[<p><strong>javascript</strong></p><ol><li><p><a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios</a> ⭐38,326</p><p>  javascript的 http client 库</p></li><li><p><a href="https://github.com/react-community/create-react-native-app" target="_blank" rel="noopener">create-react-native-app</a> ⭐8,843</p><p> 简介：辅助创建 react-native 程序</p><p> <a href="https://github.com/react-community/create-react-native-app/blob/master/react-native-scripts/template/README.md" target="_blank" rel="noopener">开发文档</a></p><a id="more"></a></li><li><p><a href="https://github.com/facebook/create-react-app" target="_blank" rel="noopener">create-react-app</a> ⭐45,526</p><p> 简介: 辅助创建 react-app 程序</p><p> <a href="https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#advanced-configuration" target="_blank" rel="noopener">开发文档</a></p></li><li><p><a href="https://github.com/nhnent/tui.editor" target="_blank" rel="noopener">tui.editor</a> ⭐5,989</p><p> 简介: markdown编译器</p><p> <a href="http://ui.toast.com/tui-editor/" target="_blank" rel="noopener">开发文档</a></p></li></ol><p><strong>android</strong></p><ol><li><p><a href="https://github.com/square/picasso" target="_blank" rel="noopener">picasso</a> ⭐15,153</p><p> 简介: 基于android的图片加载库</p><p> <a href="http://square.github.io/picasso/" target="_blank" rel="noopener">开发文档</a></p></li></ol><p><strong>python</strong></p><ol><li><p><a href="https://github.com/Prinsphield/Wechat_AutoJump" target="_blank" rel="noopener">Wechat_AutoJump</a> ⭐1,261</p><p> 简介: 跳一跳的python版本开挂程序，利用了图片识别和人工ai，值得学习</p><p> <a href="http://square.github.io/picasso/" target="_blank" rel="noopener">开发文档</a></p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> gitHub </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>协议</title>
      <link href="/2018/06/19/cjxzvzagp0012msu943uhsz3r/"/>
      <url>/2018/06/19/cjxzvzagp0012msu943uhsz3r/</url>
      
        <content type="html"><![CDATA[<h1 id="2018年5月5日"><a href="#2018年5月5日" class="headerlink" title="2018年5月5日"></a>2018年5月5日</h1><h3 id="机台发送给客户端"><a href="#机台发送给客户端" class="headerlink" title="机台发送给客户端"></a>机台发送给客户端</h3><table><thead><tr><th>字段</th><th style="text-align:center">类型</th><th style="text-align:right">说明</th></tr></thead><tbody><tr><td>clientId</td><td style="text-align:center">string</td><td style="text-align:right">唯一识别码</td></tr><tr><td>col 2 is</td><td style="text-align:center">centered</td><td style="text-align:right">$12</td></tr><tr><td>col 3 is</td><td style="text-align:center">right-aligned</td><td style="text-align:right">$1</td></tr></tbody></table><ol><li><p>主题<code>zbc/client/death</code> 死亡主题:</p><p> 描述:    当客户端掉线的时候发送</p><p> 等级:  &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>clientId</td><td>string</td><td>唯一识别码</td><td>0201</td></tr></tbody></table><ol start="2"><li><p>主题 <code>zbc/client/login</code> 连接主题</p><p> 描述:    机台连接上来后发送</p><p> 等级:    &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>clientId</td><td>string</td><td>唯一识别码</td><td>0201</td></tr></tbody></table><a id="more"></a><ol start="3"><li><p>主题 <code>zbc/client/circle</code> 转圈主题</p><p> 描述:    每转一圈就发送一次数据到服务器</p><p> 等级:    &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>clientId</td><td>string</td><td>唯一识别码</td><td>0201</td></tr><tr><td>circle</td><td>number</td><td>转数</td><td>20</td></tr><tr><td>totalCircle</td><td>number</td><td>总转数</td><td>100</td></tr><tr><td>userId</td><td>string</td><td>操作员ID</td><td>sdfef</td></tr><tr><td>orderId</td><td>string</td><td>当前布票ID</td><td>dfdfdsdf</td></tr><tr><td>orderNum</td><td>number</td><td>落布数</td><td>10</td></tr></tbody></table><ol start="3"><li><p>主题 <code>zbc/client/ccd</code> 扫描条形码数据</p><p> 描述:    机台扫描二维码后发送给服务器</p><p> 等级:    &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>clientId</td><td>string</td><td>唯一识别码</td><td>0201</td></tr><tr><td>code</td><td>string</td><td>条形码数据</td><td>02215158</td></tr></tbody></table><hr><h3 id="服务端发送给机台"><a href="#服务端发送给机台" class="headerlink" title="服务端发送给机台"></a>服务端发送给机台</h3><ol><li><p>主题 <code>zbc/server/唯一识别码/changeUser</code> 更换操作员</p><p> 描述:    机台更换操作员</p><p> 等级:    &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>userName</td><td>string</td><td>操作员姓名</td><td>张三</td></tr><tr><td>userId</td><td>string</td><td>用户ID</td><td>26d51fd5f</td></tr></tbody></table><ol><li><p>主题 <code>zbc/server/唯一识别码/login</code> 机台历史数据</p><p> 描述:    机台登陆后,服务器发送给他历史数据,也就是断网前的数据</p><p> 等级:    &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>clientNum</td><td>string</td><td>机台号</td><td>001</td></tr><tr><td>circle</td><td>number</td><td>转数</td><td>20</td></tr><tr><td>totalCircle</td><td>number</td><td>总转数</td><td>100</td></tr><tr><td>userId</td><td>string</td><td>操作员ID</td><td>sdfef</td></tr><tr><td>userName</td><td>string</td><td>操作员姓名</td><td>张三</td></tr><tr><td>orderId</td><td>string</td><td>当前布票ID</td><td>dfdfdsdf</td></tr><tr><td>orderNum</td><td>number</td><td>落布数</td><td>10</td></tr></tbody></table><ol><li><p>主题 <code>zbc/server/唯一识别码/ccd</code> 布票数据</p><p> 描述:    机台CCD扫描后,服务端把布票数据发送给机台</p><p> 等级:    &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>orderNum</td><td>string</td><td>布票号</td><td>02123548</td></tr></tbody></table><ol><li><p>主题 <code>zbc/server/唯一识别码/init</code> 添加机台设备的时候发送</p><p> 描述:    添加设备的时候发一次给单片机,让单片机记录</p><p> 等级:    &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>clientNum</td><td>string</td><td>机台号</td><td>001</td></tr></tbody></table><ol><li><p>主题 <code>zbc/server/唯一识别码/error</code> 错误信息</p><p> 描述:    如果出现错误,服务端会把错误发送给机台</p><p> 等级:    &gt;=1</p><p> 数据:</p></li></ol><table><thead><tr><th>字段</th><th>类型</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td>msg</td><td>string</td><td>错误信息</td><td>该员工已离职</td></tr></tbody></table><p>​         </p>]]></content>
      
      
      
        <tags>
            
            <tag> 协议 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c#调用数据库之Dapper</title>
      <link href="/2018/06/19/cjxzvzagn000zmsu90vx0vuws/"/>
      <url>/2018/06/19/cjxzvzagn000zmsu90vx0vuws/</url>
      
        <content type="html"><![CDATA[<p>这里记录一下Dapper的使用方式，这个库有点像java的<code>mybatis</code>可以很方便的把查询出来的数据映射到对象上面去。</p><ol><li><p><strong>安装</strong></p><ol><li><p>通过 NetGet 就可以安装了，vs自带的一个包管理工具</p><p><img src="http://oepv0v7je.bkt.clouddn.com/18-3-6/97896696.jpg" alt></p><a id="more"></a></li></ol></li><li><strong>初始化</strong> <ol><li>通过</li></ol></li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> IDbConnection <span class="hljs-title">GetConnection</span>(<span class="hljs-params"></span>)</span><br>&#123;<br>    <span class="hljs-comment">// CONN_STR 这个是链接字符串，比如 postgresql 的链接字符串是</span><br>    <span class="hljs-comment">// private static string CONN_STR = "PORT=5432;DATABASE=test;HOST=localhost;PASSWORD=123456;USER ID=postgres";</span><br>    <span class="hljs-keyword">var</span> connection = <span class="hljs-keyword">new</span> NpgsqlConnection(CONN_STR);<br>    connection.Open();<br>    <span class="hljs-keyword">return</span> connection;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li>使用<ol><li>查询一个</li></ol></li></ol><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SqlHelper</span><br>   &#123;<br>       <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">string</span> CONN_STR = <span class="hljs-string">"PORT=5432;DATABASE=test;HOST=localhost;PASSWORD=123456;USER ID=postgres"</span>;<br><br><br>       <span class="hljs-function"><span class="hljs-keyword">public</span> IDbConnection <span class="hljs-title">GetConnection</span>(<span class="hljs-params"></span>)</span><br>       &#123;<br><br>           <span class="hljs-keyword">var</span> connection = <span class="hljs-keyword">new</span> NpgsqlConnection(CONN_STR);<br><br>           connection.Open();<br><br><br>           <span class="hljs-keyword">return</span> connection;<br>       &#125;<br><br>       <span class="hljs-keyword">public</span> List&lt;T&gt; All&lt;T&gt;(<span class="hljs-keyword">string</span> sql)<br>       &#123;<br>           <span class="hljs-keyword">var</span> con = GetConnection();<br>           <span class="hljs-keyword">var</span> list = con.Query&lt;T&gt;(sql).ToList();<br>           con.Close();<br>           <span class="hljs-keyword">return</span> list;<br>       &#125;<br><br>       <span class="hljs-keyword">internal</span> List&lt;T&gt; All&lt;T&gt;(<span class="hljs-keyword">string</span> sql, <span class="hljs-keyword">object</span> p)<br>       &#123;<br>           <span class="hljs-keyword">var</span> con = GetConnection();<br>           <span class="hljs-keyword">var</span> list = con.Query&lt;T&gt;(sql, p).ToList();<br>           con.Close();<br>           <span class="hljs-keyword">return</span> list;<br>       &#125;<br><br>       <span class="hljs-keyword">internal</span> T First&lt;T&gt;(<span class="hljs-keyword">string</span> sql, <span class="hljs-keyword">object</span> p)<br>       &#123;<br>           <span class="hljs-keyword">var</span> con = GetConnection();<br>           <span class="hljs-keyword">var</span> first = con.QuerySingle&lt;T&gt;(sql, p);<br>           con.Close();<br>           <span class="hljs-keyword">return</span> first;<br>       &#125;<br><br>       <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> sql, <span class="hljs-keyword">object</span> obj</span>)</span><br>       &#123;<br>           <span class="hljs-keyword">var</span> con = GetConnection();<br>           <span class="hljs-keyword">var</span> row = con.Execute(sql, obj);<br>           con.Close();<br>           <span class="hljs-keyword">return</span> row;<br>       &#125;<br><br>       <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-title">AddAndGetId</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> sql, <span class="hljs-keyword">object</span> obj</span>)</span><br>       &#123;<br>           <span class="hljs-keyword">var</span> con = GetConnection();<br>           <span class="hljs-keyword">var</span> row = con.Execute(sql, obj);<br>           <span class="hljs-keyword">if</span> (row != <span class="hljs-number">1</span>)<br>           &#123;<br>               con.Close();<br>               <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;<br>           &#125;<br>           <span class="hljs-keyword">const</span> <span class="hljs-keyword">string</span> sql2 = <span class="hljs-string">"select last_insert_id()"</span>;<br>           <span class="hljs-keyword">var</span> re = con.Query&lt;<span class="hljs-keyword">string</span>&gt;(sql2).ToArray();<br>           con.Close();<br>           <span class="hljs-keyword">return</span> re[<span class="hljs-number">0</span>];<br>       &#125;<br><br>       <span class="hljs-function"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Update</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> sql, <span class="hljs-keyword">object</span> worker</span>)</span><br>       &#123;<br>           <span class="hljs-keyword">var</span> con = GetConnection();<br>           <span class="hljs-keyword">var</span> row = con.Execute(sql, worker);<br>           con.Close();<br>           <span class="hljs-keyword">return</span> row;<br>       &#125;<br><br>       <span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> 单例模式</span><br><br>       <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SqlHelper _instance;<br><br>       <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">SqlHelper</span>(<span class="hljs-params"></span>)</span><br>       &#123;<br>       &#125;<br><br>       <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlHelper <span class="hljs-title">GetInstance</span>(<span class="hljs-params"></span>)</span><br>       &#123;<br>           <span class="hljs-keyword">return</span> _instance ?? (_instance = <span class="hljs-keyword">new</span> SqlHelper());<br>       &#125;<br><br>       <span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><br>   &#125;<br></code></pre></td></tr></table></figure><p>也比较简单，调用的时候</p><p><code>SqlHelper.getInstance().First&lt;Order&gt;(&quot;select * from order where id = @Id&quot;, new {Id = &quot;123456&quot;})</code></p><p>其中 Order 是实体类，对应着数据库的字段。</p><hr><p>以上是简单用法，下面的是复杂用法</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">var</span> sql = <span class="hljs-string">"select * from user left join address where userId = @UserId"</span>;<br><span class="hljs-keyword">var</span> procedureList = con.Query&lt;User, Address, User&gt;(sql,<br>(user, address) =&gt;<br>&#123;<br>    user.address = address;<br>    <span class="hljs-keyword">return</span> user;<br>&#125;, <span class="hljs-keyword">new</span> &#123;UserId = <span class="hljs-string">"123456"</span>&#125;).ToList();<br></code></pre></td></tr></table></figure><p><code>IDbConnection</code>这是一个接口，里面有一个Query函数，这个函数接受多个泛型，至于多少个，与关联的表有关，比如 一个 用户<code>User</code> 有多个 地址<code>Address</code> ,那么第一个泛型就是用户，第二个泛型就是Address，第三个就是要返回的对象。然后再实现对象之间的关系。最后返回的对象就是一个填充过数据的对象了，非常好用。</p>]]></content>
      
      
      
        <tags>
            
            <tag> c# </tag>
            
            <tag> Dapper </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>categories</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
